import{f as n}from"./chunk-WK7ZMYIR.js";var c=(function(t){return t.UNCATEGORIZED="uncategorized",t.STARTER="starter",t.PSEUDO_LEGENDARY="pseudo-legendary",t.ULTRA_BEAST="ultra-beast",t.SUB_LEGENDARY="sub-legendary",t.LEGENDARY="legendary",t.MYSTICAL="mystical",t.FOSSIL="fossil",t.BABY="baby",t.REGIONAL="regional",t.ALOLA="alola",t.GALAR="galar",t.HISUI="hisui",t.UNOWN="unown",t.ALCREMIE="alcremie",t.VIVILLON="vivillon",t.GIGANTAMAX="gmax",t})(c||{});var l=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new n;constructor(e=!1,i,s=!0,r){this._multiple=e,this._emitChanges=s,this.compareWith=r,i&&i.length&&(e?i.forEach(h=>this._markSelected(h)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(s=>this._markSelected(s));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...e){this._verifyValueAssignment(e),e.forEach(s=>this._unmarkSelected(s));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...e){this._verifyValueAssignment(e);let i=this.selected,s=new Set(e.map(h=>this._getConcreteValue(h)));e.forEach(h=>this._markSelected(h)),i.filter(h=>!s.has(this._getConcreteValue(h,s))).forEach(h=>this._unmarkSelected(h));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let i=this._hasQueuedChanges();return e&&this._emitChangeEvent(),i}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,i){if(this.compareWith){i=i??this._selection;for(let s of i)if(this.compareWith(e,s))return s;return e}else return e}};export{c as a,l as b};

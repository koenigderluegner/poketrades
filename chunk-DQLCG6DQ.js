import{a as m}from"./chunk-RRFYCJGC.js";import{a as $,b as w}from"./chunk-4QPGSFZQ.js";import{b as P,c as I}from"./chunk-OHEOM7UN.js";import"./chunk-NWYFDN2F.js";import"./chunk-7OGPNC3I.js";import{a as B}from"./chunk-LY7EO4LK.js";import{b as T}from"./chunk-JKHTDTV3.js";import"./chunk-265GW7FS.js";import{b as M}from"./chunk-OGAS3D4J.js";import"./chunk-BZTVD7MR.js";import"./chunk-U7UYY72G.js";import"./chunk-KPK2DUCE.js";import"./chunk-7SLVFYE5.js";import"./chunk-X6KX2NY2.js";import{j as O}from"./chunk-GCQOBVVX.js";import{Db as s,Eb as S,Fb as g,Gb as C,Hb as x,Ib as b,Jb as D,Nb as F,R as f,Za as h,ba as a,fc as v,hc as d,ic as k,jc as E,k as c,lb as _,p as l,pb as u,qb as p,xb as y}from"./chunk-IDMNUBYU.js";import"./chunk-ESJYUATY.js";var G=i=>({item:i});function L(i,n){i&1&&D(0,"app-grid-item",1),i&2&&y("pokemon",n)}function N(i,n){if(i&1&&(p(0,L,1,1,"app-grid-item",1),d(1,"shinyDexEntryToPokemon")),i&2){let o,e=n.$implicit;s((o=E(1,1,e[1],v(4,G,e[1].pokemon.fsObtainingMethod===3?"rare-candy":null)))?0:-1,o)}}function j(i,n){i&1&&(x(0,"app-grid",0),g(1,N,2,6,null,null,S),b()),i&2&&(h(),C(n))}function A(i,n){if(i&1&&(p(0,j,3,0,"app-grid",0),d(1,"async")),i&2){let o,e=F();s((o=k(1,1,e.shinies$))?0:-1,o)}}var ni=(()=>{let n=class n extends ${constructor(){super(),this._databases=a(B),this._spreadsheets=a(T),this._gridService=a(M),this._gridService.updateHideOwnedStatusControl(!1),this._gridService.updateHideAppearanceControl(!0)}ngOnInit(){this.shinies$=l([this._spreadsheets.getCurrentSpreadsheet$(),this._databases.getPokemon()]).pipe(f(([e,t])=>c(Object.entries(this.buildShinyList(e,t)))))}buildEmptyShinyList(e){let t={};for(let r of e)this._pokemonEligibleForShinyDex(r)&&Object.assign(t,{[r.name]:{pokemon:r,amountShinies:0}});return t}_pokemonEligibleForShinyDex(e){let t=e.fsObtainingMethod??m.UNKNOWN;return e.canBeShiny&&e.canBeBanked&&[m.CAPTURE,m.EVOLVING].includes(t)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_({type:n,selectors:[["app-friend-safari-shiny-dex"]],features:[u],decls:1,vars:1,consts:[["appearance","minimal",1,"friend-safari-grid"],[3,"pokemon"]],template:function(t,r){t&1&&p(0,A,2,3),t&2&&s(r.shinies$?0:-1)},dependencies:[I,P,w,O],styles:[`.friend-safari-grid.grid.minimal .grid-item.inactive .pokesprite.item-icon{filter:none}
`],encapsulation:2});let i=n;return i})();export{ni as FriendSafariShinyDexComponent};

import{a as m}from"./chunk-RRFYCJGC.js";import{a as U,b as I}from"./chunk-DCKHDCQA.js";import{b as w,c as P}from"./chunk-YQUXQLXS.js";import"./chunk-EQSRLC5R.js";import"./chunk-CJJD2XPB.js";import{a as B}from"./chunk-CLA7YIOJ.js";import{b as E}from"./chunk-EVFWIQNA.js";import"./chunk-265GW7FS.js";import{b as M}from"./chunk-VR3TVLAU.js";import"./chunk-UVEKUBLQ.js";import"./chunk-KO3XMMZR.js";import"./chunk-YYFXMHMV.js";import"./chunk-V4WIDDSC.js";import"./chunk-IGW6DD2I.js";import"./chunk-W5UVDF5Y.js";import{j as T}from"./chunk-YVSC47RM.js";import{Db as s,Eb as C,Fb as S,Gb as g,Hb as x,Ib as b,Jb as D,Nb as v,R as h,Ya as _,ba as a,fc as k,hc as d,ic as F,jc as O,k as l,kb as f,ob as u,p as c,qb as p,xb as y}from"./chunk-MZKGMKCD.js";import"./chunk-ESJYUATY.js";var W=e=>({item:e});function $(e,t){e&1&&D(0,"app-grid-item",1),e&2&&y("pokemon",t)}function G(e,t){if(e&1&&(p(0,$,1,1,"app-grid-item",1),d(1,"shinyDexEntryToPokemon")),e&2){let o,i=t.$implicit;s((o=O(1,1,i[1],k(4,W,i[1].pokemon.uwObtainingMethod===3?"rare-candy":null)))?0:-1,o)}}function L(e,t){e&1&&(x(0,"app-grid",0),S(1,G,2,6,null,null,C),b()),e&2&&(_(),g(t))}function N(e,t){if(e&1&&(p(0,L,3,0,"app-grid",0),d(1,"async")),e&2){let o,i=v();s((o=F(1,1,i.shinies$))?0:-1,o)}}var ie=(()=>{let t=class t extends U{constructor(){super(),this._databases=a(B),this._spreadsheets=a(E),this._gridService=a(M),this._gridService.updateHideOwnedStatusControl(!1),this._gridService.updateHideAppearanceControl(!0)}ngOnInit(){this.shinies$=c([this._spreadsheets.getCurrentSpreadsheet$(),this._databases.getPokemon()]).pipe(h(([i,n])=>l(Object.entries(this.buildShinyList(i,n)))))}buildEmptyShinyList(i){let n={};for(let r of i)this._pokemonEligibleForShinyDex(r)&&Object.assign(n,{[r.name]:{pokemon:r,amountShinies:0}});return n}_pokemonEligibleForShinyDex(i){let n=i.uwObtainingMethod??m.UNKNOWN;return i.canBeShiny&&i.canBeBanked&&[m.CAPTURE,m.EVOLVING].includes(n)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=f({type:t,selectors:[["app-ultra-wormhole-shiny-dex"]],features:[u],decls:1,vars:1,consts:[["appearance","minimal",1,"friend-safari-grid"],[3,"pokemon"]],template:function(n,r){n&1&&p(0,N,2,3),n&2&&s(r.shinies$?0:-1)},dependencies:[w,I,P,T],encapsulation:2});let e=t;return e})();export{ie as UltraWormholeShinyDexComponent};

import{a as Wt}from"./chunk-UBVYKTDP.js";import{a as Ht}from"./chunk-5ULFQVRA.js";import{b as kt}from"./chunk-YE4MOPZS.js";import{a as Bt,b as _e}from"./chunk-HUQYK5WD.js";import{b as gt,d as vt,e as bt,f as he}from"./chunk-5XQXKY64.js";import{a as Vt,b as Nt,c as jt}from"./chunk-YQUXQLXS.js";import{a as Dt}from"./chunk-EQSRLC5R.js";import"./chunk-CJJD2XPB.js";import{a as nt}from"./chunk-CLA7YIOJ.js";import{b as it}from"./chunk-EVFWIQNA.js";import"./chunk-265GW7FS.js";import{a as wt,b as Lt}from"./chunk-VR3TVLAU.js";import{a as Ot,b as St,c as Et,d as At,e as Mt,h as Tt,i as It,k as Pt,l as Ft,n as Rt}from"./chunk-UVEKUBLQ.js";import{A as ft,a as B,b as Ee,c as ot,e as at,g as pe,h as st,i as rt,j as Ae,k as me,m as lt,p as ct,s as dt,t as pt,u as mt,v as ht,x as ut,y as Q,z as _t}from"./chunk-KO3XMMZR.js";import{a as tt,b as de,g as Se}from"./chunk-YYFXMHMV.js";import"./chunk-V4WIDDSC.js";import"./chunk-IGW6DD2I.js";import{c as yt,d as ue,e as Ct,g as Z,h as xt,i as Me}from"./chunk-W5UVDF5Y.js";import{d as Xe,j as Je,k as et}from"./chunk-YVSC47RM.js";import{Ab as Ue,Db as f,E as be,Eb as y,Fb as C,G as He,Gb as x,Hb as d,Ib as p,Ja as We,Jb as I,Kb as le,Lb as Ke,Mb as k,Nb as m,Ob as Ye,Pb as Ge,Q as ne,Qb as Ce,R as oe,Rb as xe,Sb as K,Tb as Y,U as W,W as Ve,X as Ne,Xb as ke,Ya as c,Yb as h,Za as l,Zb as ce,_ as z,_b as E,a as ee,aa as ye,ab as ze,ba as S,c as Pe,dc as G,eb as $e,ec as Qe,f as A,fc as we,ga as ae,ha as $,hc as v,i as Fe,ia as q,ic as b,jc as Ze,k as Re,kb as se,ma as je,mb as L,mc as Oe,nb as qe,o as te,pb as re,q as Le,qa as F,qb as u,ra as R,rc as P,t as Be,u as De,v as N,va as M,wb as U,x as j,xb as g,y as ie,zb as T}from"./chunk-MZKGMKCD.js";import{a as ve}from"./chunk-ESJYUATY.js";var si=["panel"],ri=["*"];function li(n,o){if(n&1){let a=le();d(0,"div",1,0),k("@panelAnimation.done",function(t){$(a);let i=m();return q(i._animationDone.next(t))}),Ge(2),p()}if(n&2){let a=o.id,e=m();Ue(e._classList),T("mat-mdc-autocomplete-visible",e.showPanel)("mat-mdc-autocomplete-hidden",!e.showPanel)("mat-primary",e._color==="primary")("mat-accent",e._color==="accent")("mat-warn",e._color==="warn"),g("id",e.id)("@panelAnimation",e.isOpen?"visible":"hidden"),U("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby(a))}}var ci=yt("panelAnimation",[xt("void, hidden",Z({opacity:0,transform:"scaleY(0.8)"})),Me(":enter, hidden => visible",[Ct([ue("0.03s linear",Z({opacity:1})),ue("0.12s cubic-bezier(0, 0, 0.2, 1)",Z({transform:"scaleY(1)"}))])]),Me(":leave, visible => hidden",[ue("0.075s linear",Z({opacity:0}))])]),di=0,Te=class{constructor(o,a){this.source=o,this.option=a}},Yt=new z("mat-autocomplete-default-options",{providedIn:"root",factory:pi});function pi(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}var Gt=(()=>{let o=class o{get isOpen(){return this._isOpen&&this.showPanel}_setColor(e){this._color=e,this._changeDetectorRef.markForCheck()}set classList(e){this._classList=e,this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}constructor(e,t,i,s){this._changeDetectorRef=e,this._elementRef=t,this._defaults=i,this._activeOptionChanges=ee.EMPTY,this._animationDone=new F,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new F,this.opened=new F,this.closed=new F,this.optionActivated=new F,this.id=`mat-autocomplete-${di++}`,this.inertGroups=s?.SAFARI||!1,this.autoActiveFirstOption=!!i.autoActiveFirstOption,this.autoSelectActiveOption=!!i.autoSelectActiveOption,this.requireSelection=!!i.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new lt(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(e=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[e]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(e){let t=new Te(this,e);this.optionSelected.emit(t)}_getPanelAriaLabelledby(e){if(this.ariaLabel)return null;let t=e?e+" ":"";return this.ariaLabelledby?t+this.ariaLabelledby:e}_skipPredicate(){return!1}};o.\u0275fac=function(t){return new(t||o)(l(Oe),l(M),l(Yt),l(B))},o.\u0275cmp=se({type:o,selectors:[["mat-autocomplete"]],contentQueries:function(t,i,s){if(t&1&&(Ce(s,Q,5),Ce(s,ht,5)),t&2){let r;K(r=Y())&&(i.options=r),K(r=Y())&&(i.optionGroups=r)}},viewQuery:function(t,i){if(t&1&&(xe(ze,7),xe(si,5)),t&2){let s;K(s=Y())&&(i.template=s.first),K(s=Y())&&(i.panel=s.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",P],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",P],requireSelection:[2,"requireSelection","requireSelection",P],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",P],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",P]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[G([{provide:mt,useExisting:o}]),re],ngContentSelectors:ri,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(t,i){t&1&&(Ye(),u(0,li,3,16,"ng-template"))},styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape, var(--mat-app-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color, var(--mat-app-surface-container))}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[ci]},changeDetection:0});let n=o;return n})(),Qt=(()=>{let o=class o{constructor(e){this.elementRef=e}};o.\u0275fac=function(t){return new(t||o)(l(M))},o.\u0275dir=L({type:o,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"]});let n=o;return n})(),mi={provide:Ot,useExisting:Ve(()=>Ie),multi:!0};var hi=new z("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let n=S(he);return()=>n.scrollStrategies.reposition()}});var Ie=(()=>{let o=class o{constructor(e,t,i,s,r,w,O,ge,X,J,D){this._element=e,this._overlay=t,this._viewContainerRef=i,this._zone=s,this._changeDetectorRef=r,this._dir=O,this._formField=ge,this._document=X,this._viewportRuler=J,this._defaults=D,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=ee.EMPTY,this._breakpointObserver=S(st),this._handsetLandscapeSubscription=ee.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new A,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._initialized=new A,this._injector=S(je),this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=Be(()=>{let _=this.autocomplete?this.autocomplete.options:null;return _?_.changes.pipe(ne(_),oe(()=>j(..._.map(H=>H.onSelectionChange)))):this._initialized.pipe(oe(()=>this.optionSelections))}),this._handlePanelKeydown=_=>{(_.keyCode===27&&!pe(_)||_.keyCode===38&&pe(_,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),_.stopPropagation(),_.preventDefault())},this._trackedModal=null,this._scrollStrategy=w}ngAfterViewInit(){this._initialized.next(),this._initialized.complete();let e=this._getWindow();typeof e<"u"&&this._zone.runOutsideAngular(()=>e.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){let e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&me(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return j(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ie(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ie(()=>this._overlayAttached)):Re()).pipe(te(e=>e instanceof ut?e:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return j(N(this._document,"click"),N(this._document,"auxclick"),N(this._document,"touchend")).pipe(ie(e=>{let t=at(e),i=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,s=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&t!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!i||!i.contains(t))&&(!s||!s.contains(t))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(t)}))}writeValue(e){Promise.resolve(null).then(()=>this._assignOptionValue(e))}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._element.nativeElement.disabled=e}_handleKeydown(e){let t=e.keyCode,i=pe(e);if(t===27&&!i&&e.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&t===13&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){let s=this.autocomplete._keyManager.activeItem,r=t===38||t===40;t===9||r&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):r&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(r||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(e){let t=e.target,i=t.value;if(t.type==="number"&&(i=i==""?null:parseFloat(i)),this._previousValue!==i){if(this._previousValue=i,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(i),!i)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let s=this.autocomplete.options?.find(r=>r.selected);if(s){let r=this._getDisplayValue(s.value);i!==r&&s.deselect(!1)}}if(this._canOpen()&&this._document.activeElement===e.target){let s=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(s)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(e=!1){this._formField&&this._formField.floatLabel==="auto"&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let e=new Pe(i=>{We(()=>{i.next()},{injector:this._injector})}),t=this.autocomplete.options.changes.pipe(W(()=>this._positionStrategy.reapplyLastPosition()),He(0));return j(e,t).pipe(oe(()=>this._zone.run(()=>{let i=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),i!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),be(1)).subscribe(i=>this._setValueAndClose(i))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(e){let t=this.autocomplete;return t&&t.displayWith?t.displayWith(e):e}_assignOptionValue(e){let t=this._getDisplayValue(e);e==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(t??"")}_updateNativeInputValue(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}_setValueAndClose(e){let t=this.autocomplete,i=e?e.source:this._pendingAutoselectedOption;i?(this._clearPreviousSelectedOption(i),this._assignOptionValue(i.value),this._onChange(i.value),t._emitSelectEvent(i),this._element.nativeElement.focus()):t.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),t._animationDone?t._animationDone.pipe(be(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(e,t){this.autocomplete?.options?.forEach(i=>{i!==e&&i.selected&&i.deselect(t)})}_openPanelInternal(e=this._element.nativeElement.value){if(this._attachOverlay(e),this._floatLabel(),this._trackedModal){let t=this.autocomplete.id;Ae(this._trackedModal,"aria-owns",t)}}_attachOverlay(e){this.autocomplete;let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new gt(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(rt.HandsetLandscape).subscribe(s=>{s.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),t&&!t.hasAttached()&&(t.attach(this._portal),this._valueOnAttach=e,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let i=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let e=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=e.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=e.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new bt({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){let e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}_setStrategyPositions(e){let t=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,s=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}],r;this.position==="above"?r=s:this.position==="below"?r=t:r=[...t,...s],e.withPositions(r)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let e=this.autocomplete;if(e.autoActiveFirstOption){let t=-1;for(let i=0;i<e.options.length;i++)if(!e.options.get(i).disabled){t=i;break}e._keyManager.setActiveItem(t)}else e._keyManager.setActiveItem(-1)}_canOpen(){let e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(e){let t=this.autocomplete,i=_t(e,t.options,t.optionGroups);if(e===0&&i===1)t._setScrollTop(0);else if(t.panel){let s=t.options.toArray()[e];if(s){let r=s._getHostElement(),w=ft(r.offsetTop,r.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(w)}}}_applyModalPanelOwnership(){let e=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let t=this.autocomplete.id;this._trackedModal&&me(this._trackedModal,"aria-owns",t),Ae(e,"aria-owns",t),this._trackedModal=e}_clearFromModal(){if(this._trackedModal){let e=this.autocomplete.id;me(this._trackedModal,"aria-owns",e),this._trackedModal=null}}};o.\u0275fac=function(t){return new(t||o)(l(M),l(he),l($e),l(R),l(Oe),l(hi),l(ct,8),l(_e,9),l(Xe,8),l(vt),l(Yt,8))},o.\u0275dir=L({type:o,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(t,i){t&1&&k("focusin",function(){return i._handleFocus()})("blur",function(){return i._onTouched()})("input",function(r){return i._handleInput(r)})("keydown",function(r){return i._handleKeydown(r)})("click",function(){return i._handleClick()}),t&2&&U("autocomplete",i.autocompleteAttribute)("role",i.autocompleteDisabled?null:"combobox")("aria-autocomplete",i.autocompleteDisabled?null:"list")("aria-activedescendant",i.panelOpen&&i.activeOption?i.activeOption.id:null)("aria-expanded",i.autocompleteDisabled?null:i.panelOpen.toString())("aria-controls",i.autocompleteDisabled||!i.panelOpen||i.autocomplete==null?null:i.autocomplete.id)("aria-haspopup",i.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",P]},exportAs:["matAutocompleteTrigger"],features:[G([mi]),re,ae]});let n=o;return n})();var Zt=ot({passive:!0}),Xt=(()=>{let o=class o{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Fe;let t=Se(e),i=this._monitoredElements.get(t);if(i)return i.subject;let s=new A,r="cdk-text-field-autofilled",w=O=>{O.animationName==="cdk-text-field-autofill-start"&&!t.classList.contains(r)?(t.classList.add(r),this._ngZone.run(()=>s.next({target:O.target,isAutofilled:!0}))):O.animationName==="cdk-text-field-autofill-end"&&t.classList.contains(r)&&(t.classList.remove(r),this._ngZone.run(()=>s.next({target:O.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",w,Zt),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:s,unlisten:()=>{t.removeEventListener("animationstart",w,Zt)}}),s}stopMonitoring(e){let t=Se(e),i=this._monitoredElements.get(t);i&&(i.unlisten(),i.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}};o.\u0275fac=function(t){return new(t||o)(ye(B),ye(R))},o.\u0275prov=Ne({token:o,factory:o.\u0275fac,providedIn:"root"});let n=o;return n})();var fi=new z("MAT_INPUT_VALUE_ACCESSOR"),gi=["button","checkbox","file","hidden","image","radio","range","reset","submit"],vi=0,Jt=(()=>{let o=class o{get disabled(){return this._disabled}set disabled(e){this._disabled=de(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Et.required)??!1}set required(e){this._required=de(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Ee().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=de(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,t,i,s,r,w,O,ge,X,J){this._elementRef=e,this._platform=t,this.ngControl=i,this._autofillMonitor=ge,this._ngZone=X,this._formField=J,this._uid=`mat-input-${vi++}`,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new A,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(H=>Ee().has(H)),this._iOSKeyupListener=H=>{let V=H.target;!V.value&&V.selectionStart===0&&V.selectionEnd===0&&(V.setSelectionRange(1,1),V.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};let D=this._elementRef.nativeElement,_=D.nodeName.toLowerCase();this._inputValueAccessor=O||D,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&X.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new dt(w,i,r,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=_==="select",this._isTextarea=_==="textarea",this._isInFormField=!!J,this._isNativeSelect&&(this.controlType=D.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let t=this._elementRef.nativeElement;this._previousPlaceholder=e,e?t.setAttribute("placeholder",e):t.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){gi.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&this._type!=="number"&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}};o.\u0275fac=function(t){return new(t||o)(l(M),l(B),l(At,10),l(Tt,8),l(Ft,8),l(pt),l(fi,10),l(Xt),l(R),l(_e,8))},o.\u0275dir=L({type:o,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(t,i){t&1&&k("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),t&2&&(Ke("id",i.id)("disabled",i.disabled)("required",i.required),U("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),T("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[G([{provide:Bt,useExisting:o}]),ae]});let n=o;return n})();var ei=(()=>{let o=class o{transform(e,t){return e?e.filter(i=>i.move===t):[]}};o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=qe({name:"filterLevelUpMoves",type:o,pure:!0});let n=o;return n})();var bi=()=>[],ti=n=>({iconSlug:n});function yi(n,o){if(n&1&&(d(0,"mat-option",6),I(1,"app-pokemon",3),v(2,"nameToSlug"),d(3,"span",7),h(4),p()()),n&2){let a=o.$implicit;g("value",a),c(),g("slug",b(2,3,a.pokemon)),c(3),E(" ",a.pokemon," ")}}function Ci(n,o){if(n&1&&(d(0,"app-type-badge",10),h(1),p()),n&2){let a=o.$implicit;g("type",a),c(),ce(a)}}function xi(n,o){if(n&1&&h(0),n&2){let a=o.$implicit;E(" ",a," ")}}function ki(n,o){n&1&&I(0,"app-pokemon",17)}function wi(n,o){if(n&1&&h(0),n&2){let a=m().$implicit;E(" ",a.value.hasHiddenAbility?"HA":"NON-HA"," ")}}function Oi(n,o){if(n&1&&(d(0,"td"),h(1),p()),n&2){let a=o.$index,e=m().$implicit,t=m(6);T("is-em",t.isEggMove(e.value.moves[a])),c(),E(" ",e.value.moves[a]," ")}}function Si(n,o){if(n&1&&(d(0,"tr")(1,"td",14),I(2,"app-item",15),v(3,"slugify"),p(),d(4,"td",16),u(5,ki,1,0,"app-pokemon",17),p(),d(6,"td"),u(7,wi,1,1),p(),C(8,Oi,2,3,"td",18,y),d(10,"td"),h(11),p()()),n&2){let a=o.$implicit,e=m(6);T("is-owned",a.value.isOwned),c(2),g("slug",b(3,6,a.key)),c(3),f(e.hasMaxEggmoves(a.value)?5:-1),c(2),f(a.value.isOwned?7:-1),c(),x(Qe(8,bi).constructor(4)),c(3),E(" ",a.value.nature," ")}}function Ei(n,o){if(n&1&&(d(0,"table",11),C(1,Si,12,9,"tr",13,y),v(3,"keyvalue"),p()),n&2){let a=m(5);c(),x(b(3,0,a.sheetBreeadbles))}}function Ai(n,o){if(n&1&&(I(0,"app-grid-item",21),v(1,"slugify")),n&2){let a=m().$implicit,e=m(7);g("pokemon",e.asPokemon(we(3,ti,b(1,1,a.key))))}}function Mi(n,o){if(n&1&&u(0,Ai,2,5,"app-grid-item",21),n&2){let a=o.$implicit,e=m(2).$implicit,t=m(2);f(a.key!==t.name&&a.value.eggMoves.includes(e)?0:-1)}}function Ti(n,o){if(n&1&&(C(0,Mi,1,1,null,null,y),v(2,"keyvalue")),n&2){let a=m(6);x(b(2,0,a.parentMoves))}}function Ii(n,o){if(n&1&&(d(0,"div",19),h(1),p(),d(2,"app-grid",20),u(3,Ti,3,2),p()),n&2){let a=o.$implicit,e=m(5);c(),ce(a),c(2),f(e.parentMoves?3:-1)}}function Pi(n,o){if(n&1&&(I(0,"app-grid-item",21),v(1,"slugify")),n&2){let a=m(2).$implicit,e=m(7);g("pokemon",e.asPokemon(we(3,ti,b(1,1,a.key))))}}function Fi(n,o){n&1&&u(0,Pi,2,5,"app-grid-item",21),n&2&&f(o.length?0:-1)}function Ri(n,o){if(n&1&&(u(0,Fi,1,1),v(1,"filterLevelUpMoves")),n&2){let a,e=o.$implicit,t=m(2).$implicit;f((a=Ze(1,1,e.value.levelUpMoves,t))?0:-1,a)}}function Li(n,o){if(n&1&&(C(0,Ri,2,4,null,null,y),v(2,"keyvalue")),n&2){let a=m(6);x(b(2,0,a.parentMoves))}}function Bi(n,o){if(n&1&&(d(0,"div",19),h(1),p(),d(2,"app-grid",20),u(3,Li,3,2),p()),n&2){let a=o.$implicit,e=m(5);c(),ce(a),c(2),f(e.parentMoves?3:-1)}}function Di(n,o){if(n&1&&(d(0,"div",8)(1,"h2",9),h(2),p(),C(3,Ci,2,2,"app-type-badge",10,y),d(5,"div")(6,"b"),h(7,"Abilities:"),p(),C(8,xi,1,1,null,null,y),p(),d(10,"div")(11,"b"),h(12,"Hidden Ability:"),p(),h(13),p()(),u(14,Ei,4,2,"table",11),d(15,"div")(16,"h2"),h(17,"Inheritance"),p(),d(18,"div",12),C(19,Ii,4,2,null,null,y),p()(),d(21,"div")(22,"h2"),h(23,"Leveling"),p(),d(24,"div",12),C(25,Bi,4,2,null,null,y),p()()),n&2){let a=m(),e=m(3);c(2),E("",a.name," information"),c(),x(a.types),c(5),x(a.abilities),c(5),E(" ",a.hiddenAbility?a.hiddenAbility:"-",""),c(),f(e.sheetBreeadbles?14:-1),c(5),x(e.eggMoves),c(6),x(e.eggMoves)}}function Hi(n,o){n&1&&(d(0,"app-ball-guy-bubble"),h(1,"The Pokemon you're looking for was not found. The database might not be up to date. "),p())}function Vi(n,o){n&1&&u(0,Di,27,3)(1,Hi,2,0,"app-ball-guy-bubble"),n&2&&f(o?0:1)}function Ni(n,o){if(n&1&&(u(0,Vi,2,1),v(1,"async")),n&2){let a,e=m(2);f((a=b(1,1,e.selectedPokemon$))?0:-1,a)}}function ji(n,o){if(n&1){let a=le();d(0,"label",2,0),I(2,"app-pokemon",3),d(3,"input",4),k("focusin",function(t){$(a);let i=m();return q(i.selectInputText(t))}),p()(),d(4,"mat-autocomplete",5,1),k("optionSelected",function(t){$(a);let i=m();return q(i.selectPokemon(t))}),C(6,yi,5,5,"mat-option",6,y),v(8,"async"),p(),u(9,Ni,2,3)}if(n&2){let a=ke(1),e=ke(5),t=m();c(2),g("slug",t.selectedPokemon?t.selectedPokemon.iconSlug:"unknown"),c(),g("formControl",t.searchControl)("matAutocomplete",e)("matAutocompleteConnectedTo",a),c(),g("displayWith",t.displayFn),c(2),x(b(8,6,t.filteredPokemon)),c(3),f(t.selectedPokemon$?9:-1)}}var uo=(()=>{let o=class o{constructor(){this.database=S(nt),this.spreadsheetFacade=S(it),this.gridService=S(Lt);let e=this.spreadsheetFacade;this.gridService.updateHideOwnedStatusControl(!0),this.gridService.updateHideAppearanceControl(!0),this.placeHolderPokemon={id:"",name:"",dex:"",ability:"",isOwned:!0,hasHiddenAbility:!1,isShiny:!1,iconSlug:"",moves:[]},this.parentMoves=null,this.searchControl=new It("",{nonNullable:!0}),this.breedables$=this.database.getBreedableLegality().pipe(W(t=>{this.breedables=t})),e.getCurrentSpreadsheet$().subscribe(t=>{t.hasBreedables&&(this.worksheets=t.worksheets.filter(i=>i.config?.type==="Breedables"))}),this.filteredPokemon=this.searchControl.valueChanges.pipe(ne(""),te(t=>this._filter(t)))}displayFn(e){return e.pokemon}selectPokemon(e){this.selectedPokemon$=this.database.findPokemon(e.option.value.pokemon).pipe(W(t=>{this.selectedPokemon=t,this.sheetBreeadbles={},this.worksheets?.forEach(i=>{let s=i.data?.filter(r=>r.name===t.name);s?.length&&i.config?.ball&&this.sheetBreeadbles&&(this.sheetBreeadbles[i.config?.ball]=s[0])}),this.database.getEggMovesForPokemon(t.name).subscribe({next:i=>{this.eggMoves=i}}),this.database.getEggGroupParents(t.eggGroups).pipe(Le(i=>{let s={};for(let r of i)s[r.name]=this.database.getMovesForPokemon(r.name);return De(s)})).subscribe(i=>{this.parentMoves=i})}))}isEggMove(e){return this.eggMoves?.includes(e)}asPokemon(e){return ve(ve({},this.placeHolderPokemon),e)}hasMaxEggmoves(e){let t=0,i=Math.min(this.eggMoves?.length??-1,4);for(let s=0;s<4&&!(this.isEggMove(e.moves[s])&&(t++,t===i));s++);return t===i}selectInputText(e){e.target.select()}_filter(e){let t=this._normalizeValue(e);return this.breedables?.filter(i=>this._normalizeValue(i.pokemon).includes(t))||[]}_normalizeValue(e){let t;return typeof e!="string"?t=e?.pokemon||"":t=e,t.toLowerCase().replace(/\s/g,"")}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=se({type:o,selectors:[["app-breeding"]],hostAttrs:[1,"breeding-view"],decls:2,vars:3,consts:[["origin","matAutocompleteOrigin"],["auto","matAutocomplete"],["matAutocompleteOrigin","",1,"poke-autocomplete-input-wrapper"],[3,"slug"],["placeholder","Select Pok\xE9mon","matInput","",1,"poke-autocomplete-input",3,"focusin","formControl","matAutocomplete","matAutocompleteConnectedTo"],["autoActiveFirstOption","",1,"poke-autocomplete",3,"optionSelected","displayWith"],[3,"value"],[1,"pokemon-name"],[1,"card"],[1,"m-0"],["size","small",3,"type"],[1,"breeding-pokemon-table"],[1,"breeding-move-grid"],[3,"is-owned"],[1,"ball-col"],["category","ball",3,"slug"],[1,"egg-col"],["matTooltip","This breedable has the maximum amount of egg moves!","slug","egg"],[3,"is-em"],[1,"move-name"],["appearance","minimal"],[3,"pokemon"]],template:function(t,i){if(t&1&&(u(0,ji,10,8),v(1,"async")),t&2){let s;f((s=b(1,1,i.breedables$))?0:-1,s)}},dependencies:[Rt,St,Mt,Pt,Je,Dt,Ie,Gt,Q,Jt,Ht,Vt,et,wt,tt,kt,jt,Nt,ei,Wt,Qt],styles:[`.poke-autocomplete{--mat-autocomplete-background-color: #fff}.poke-autocomplete .mat-mdc-option{padding:0 16px 0 0}.poke-autocomplete .mat-mdc-option:hover:not(.mat-mdc-option-disabled),.poke-autocomplete .mat-mdc-option:focus:not(.mat-mdc-option-disabled),.poke-autocomplete .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple):not(.mat-mdc-option-disabled),.poke-autocomplete .mat-mdc-option.mat-mdc-option-active{background:#7f7f7f1a}.poke-autocomplete .pokemon-name{align-self:center}.poke-autocomplete .mdc-list-item__primary-text{display:inline-flex;align-items:flex-end;height:48px}.poke-autocomplete-input{line-height:48px;color:#000000de;font-size:16px;flex-grow:1;border:none;outline:none}.poke-autocomplete-input-wrapper{display:flex;background:#fff;color:#000000de;min-width:112px;overflow:auto;-webkit-overflow-scrolling:touch;max-width:none;max-height:256px;position:relative;width:100%;border-top-left-radius:4px;border-top-right-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.breeding-move-grid{display:grid;grid-template-columns:fit-content(0%) 1fr;grid-template-rows:1fr;gap:20px 0;grid-template-areas:". ."}.breeding-move-grid .move-name{white-space:nowrap;background:#2b2828;color:#fff;border-top-left-radius:4px;border-bottom-left-radius:4px;padding:12px;font-weight:500;z-index:1;box-shadow:0 3px 5px #0006}.breeding-move-grid .grid.minimal{background:#fff;border-top-right-radius:4px;border-bottom-right-radius:4px;padding:4px 8px;box-shadow:0 3px 5px #0006}.breeding-move-grid .grid.minimal .grid-item{background:#7568e21a}.breeding-pokemon-table{background:#fff;border-radius:3px;border-collapse:collapse;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.breeding-pokemon-table tr:nth-child(2n){background:#efefef}.breeding-pokemon-table tr:not(.is-owned){background:#464646}.breeding-pokemon-table td{padding:3px 8px;text-align:center}.breeding-pokemon-table .pokesprite.ball{margin-top:2px;margin-bottom:-2px}.breeding-pokemon-table .ball-col{padding-right:0}.breeding-pokemon-table .egg-col{padding-left:0;padding-right:0;overflow:hidden}.breeding-pokemon-table .is-em{font-weight:500}.breeding-pokemon-table .pokesprite.egg{margin-top:-30px;margin-left:-20px;margin-right:-20px}@media (prefers-color-scheme: dark){.breeding-view .card{color:#efe2e3;background:#21262d}.breeding-pokemon-table{color:#d8cdcd;background:#212121}.breeding-pokemon-table tr:nth-child(2n){background:#2f3232}.breeding-pokemon-table tr:not(.is-owned){background:#111417}.breeding-move-grid .grid.minimal{background:#21262d}.breeding-move-grid .grid.minimal .grid-item{background:#0000001a}.poke-autocomplete-input-wrapper{background:#21262d}.poke-autocomplete-input{background:#21262d;color:#efe2e3}.poke-autocomplete{--mat-autocomplete-background-color: #21262d}.poke-autocomplete .mat-mdc-option{color:#c9d1d9}.poke-autocomplete .mat-mdc-option:hover:not(.mat-mdc-option-disabled),.poke-autocomplete .mat-mdc-option:focus:not(.mat-mdc-option-disabled),.poke-autocomplete .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple):not(.mat-mdc-option-disabled),.poke-autocomplete .mat-mdc-option.mat-mdc-option-active{background:#00000026}}
`],encapsulation:2});let n=o;return n})();export{uo as BreedingComponent};

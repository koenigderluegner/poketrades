"use strict";(self.webpackChunkpoketrades=self.webpackChunkpoketrades||[]).push([[823],{2823:(W,u,a)=>{a.r(u),a.d(u,{BreedableModule:()=>G});var s=a(9808),l=a(4521),e=a(5e3),d=a(6276),x=a(9096),y=a(6082),v=a(5934),c=a(2156);const b=function(t,i){return[t,"breedables",i]};function w(t,i){if(1&t&&(e.TgZ(0,"app-sub-navi-item",9),e.ALo(1,"slugify"),e._UZ(2,"app-item",7),e.ALo(3,"slugify"),e.qZA()),2&t){const n=i.$implicit,o=e.oxw(2);e.Q6J("link",e.WLB(8,b,"/"+o.spreadsheetId,e.lcZ(1,4,n.title)))("text",n.title)("meta",n.ownedEntries+"/"+(n.data?n.data.length:"???")),e.xp6(2),e.Q6J("slug",e.lcZ(3,6,n.title))}}const C=function(t){return[t,"breedables","overview"]};function B(t,i){if(1&t&&(e.TgZ(0,"ul",5)(1,"app-sub-navi-item",6),e._UZ(2,"app-item",7),e.qZA(),e.YNc(3,w,4,11,"app-sub-navi-item",8),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("link",e.VKq(4,C,"/"+n.spreadsheetId))("text","Overview"),e.xp6(1),e.Q6J("slug","master"),e.xp6(1),e.Q6J("ngForOf",n.worksheets)}}let Z=(()=>{class t{constructor(n){this.spreadsheetFacade=n,this.isView=!0,this.spreadsheetData$=this.spreadsheetFacade.getCurrentSpreadsheet$()}ngOnInit(){this.spreadsheetData$.subscribe({next:n=>{this.spreadsheetId=n.username?"u/"+n.username:n.id,this.worksheets=n.worksheets.filter(o=>{var r;return"Breedables"===(null===(r=o.config)||void 0===r?void 0:r.type)})}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-index"]],hostVars:2,hostBindings:function(n,o){2&n&&e.ekj("view",o.isView)},decls:8,vars:1,consts:[[1,"view-header"],[1,"view-addional-content"],[1,"view-sidebar"],["class","sub-navi",4,"ngIf"],[1,"view-content"],[1,"sub-navi"],[3,"link","text"],["category","ball",3,"slug"],[3,"link","text","meta",4,"ngFor","ngForOf"],[3,"link","text","meta"]],template:function(n,o){1&n&&(e.TgZ(0,"header",0),e._uU(1,"breedables"),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-grid-controller"),e.qZA(),e.TgZ(4,"aside",2),e.YNc(5,B,4,6,"ul",3),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"router-outlet"),e.qZA()),2&n&&(e.xp6(5),e.Q6J("ngIf",o.worksheets))},directives:[x.V,s.O5,y.H,v.P,s.sg,l.lC],pipes:[c.N],styles:["@media screen and (max-width: 720px){.view-header[_ngcontent-%COMP%]{order:1}.view-addional-content[_ngcontent-%COMP%]{order:3}.view-sidebar[_ngcontent-%COMP%]{order:2}.view-content[_ngcontent-%COMP%]{order:4}}"]}),t})();var A=a(8505),f=a(3900),h=a(827),g=a(710),k=a(5569),O=a(257);let I=(()=>{class t{transform(n){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.Yjl({name:"castBreedable",type:t,pure:!0}),t})();function T(t,i){if(1&t&&(e.ynx(0),e._UZ(1,"app-grid-item",4),e.ALo(2,"castBreedable"),e.BQk()),2&t){const n=i.$implicit;e.xp6(1),e.Q6J("pokemon",e.lcZ(2,1,n))}}function _(t,i){if(1&t&&(e.TgZ(0,"app-grid",2),e.YNc(1,T,3,3,"ng-container",3),e.qZA()),2&t){const n=e.oxw().ngxAlias,o=e.oxw().ngxAlias,r=e.oxw();e.Q6J("appearance",o)("hideInactiveItems",!!n),e.xp6(1),e.Q6J("ngForOf",null==r.worksheet?null:r.worksheet.data)("ngForTrackBy",r.trackBy)}}function Q(t,i){if(1&t&&(e.ynx(0),e.YNc(1,_,2,4,"app-grid",1),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.worksheet)}}function F(t,i){if(1&t&&(e.ynx(0),e.YNc(1,Q,2,1,"ng-container",0),e.ALo(2,"async"),e.BQk()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngxAlias",e.lcZ(2,1,n.hideItems$))}}let $=(()=>{class t{constructor(n,o,r,p){this.spreadsheetFacade=n,this.route=o,this.slugifyPipe=r,this.gridService=p,this.subscriptions=[],this.gridService.updateHideAppearanceControl(!1),this.gridService.updateHideInactiveItemsControl(!1),this.gridAppearance$=this.gridService.getGridAppearance$(),this.hideItems$=this.gridService.getHideItems$()}ngOnInit(){this.route.paramMap.pipe((0,A.b)(n=>{var o;return this.worksheetTitle=null!==(o=n.get("worksheetTitle"))&&void 0!==o?o:""}),(0,f.w)(()=>this.spreadsheetFacade.getCurrentSpreadsheet$())).subscribe({next:n=>{var o;this.worksheet=null===(o=n.worksheets.filter(r=>this.slugifyPipe.transform(r.title)===this.worksheetTitle))||void 0===o?void 0:o[0]}})}trackBy(n,o){return o.id}ngOnDestroy(){for(const n of this.subscriptions)n.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.s),e.Y36(l.gz),e.Y36(c.N),e.Y36(h.r))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-ball"]],decls:2,vars:3,consts:[[4,"ngxAlias"],[3,"appearance","hideInactiveItems",4,"ngIf"],[3,"appearance","hideInactiveItems"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"pokemon"]],template:function(n,o){1&n&&(e.YNc(0,F,3,3,"ng-container",0),e.ALo(1,"async")),2&n&&e.Q6J("ngxAlias",e.lcZ(1,1,o.gridAppearance$))},directives:[g.UR,s.O5,k.M,s.sg,O.b],pipes:[s.Ov,I],styles:[""]}),t})();var J=a(9841),Y=a(9646),S=a(3163),N=a(2904),M=a(3845);function L(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",9),e.ALo(2,"slugify"),e._UZ(3,"app-item",10),e.ALo(4,"slugify"),e.qZA(),e.BQk()),2&t){const n=i.$implicit,o=e.oxw().$implicit,r=e.oxw(2).$implicit;e.xp6(1),e.ekj("active",null==r.entries[n.key][e.lcZ(2,5,o.pokemon)]?null:r.entries[n.key][e.lcZ(2,5,o.pokemon)].isOwned)("illegal",null===o[n.key]),e.xp6(2),e.Q6J("slug",e.lcZ(4,7,n.key))}}function U(t,i){if(1&t&&(e.TgZ(0,"div",5)(1,"div",6),e._UZ(2,"app-pokemon",7),e.ALo(3,"nameToSlug"),e._uU(4),e.qZA(),e.YNc(5,L,5,9,"ng-container",8),e.ALo(6,"keyvalue"),e.qZA()),2&t){const n=i.$implicit,o=e.oxw(2).$implicit;e.xp6(2),e.Q6J("slug",e.lcZ(3,3,n.pokemon)),e.xp6(2),e.hij(" ",n.pokemon,""),e.xp6(1),e.Q6J("ngForOf",e.lcZ(6,5,o.entries))}}function P(t,i){if(1&t&&(e.ynx(0),e.YNc(1,U,7,7,"div",4),e.BQk()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",n.legality)}}function H(t,i){if(1&t&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,P,2,1,"ng-container",3),e.qZA(),e.BQk()),2&t){const n=i.$implicit;e.xp6(2),e.Q6J("ngIf",n)}}function j(t,i){1&t&&e._uU(0,"Loading")}const z=[{path:"",component:Z,children:[{path:"overview",component:(()=>{class t{constructor(n,o,r){this.facade=n,this.db=o,this.gridService=r,this.gridService.updateHideAppearanceControl(!0),this.gridService.updateHideInactiveItemsControl(!0),this.data$=(0,J.a)([this.db.getBreedableLegality(),this.facade.getCurrentSpreadsheet$()]).pipe((0,f.w)(p=>{var m;return(0,Y.of)({legality:p[0],entries:null!==(m=p[1].overviewEntries)&&void 0!==m?m:{}})}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(d.s),e.Y36(S.d),e.Y36(h.r))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-overview"]],decls:3,vars:2,consts:[[4,"ngxSubscribe","ngxSubscribeOf","ngxSubscribeBeforeAny"],["loading",""],[1,"legality-table"],[4,"ngIf"],["class","legality-row d-flex",4,"ngFor","ngForOf"],[1,"legality-row","d-flex"],[1,"name","d-flex"],[3,"slug"],[4,"ngFor","ngForOf"],[1,"ball-col"],["category","ball",3,"slug"]],template:function(n,o){if(1&n&&(e.YNc(0,H,3,1,"ng-container",0),e.YNc(1,j,1,0,"ng-template",null,1,e.W1O)),2&n){const r=e.MAs(2);e.Q6J("ngxSubscribeOf",o.data$)("ngxSubscribeBeforeAny",r)}},directives:[g.eB,s.O5,s.sg,N.J,v.P],pipes:[M.q,s.Nd,c.N],styles:[".legality-row{align-items:center;padding-right:10px;border-radius:5px;margin:8px 0}.legality-row .name{width:300px;align-items:center}.legality-row:nth-child(2n){background:#efefef}.legality-table{background:#fff;border-radius:12px;display:inline-block;padding:15px}.legality-table .ball-col .pokesprite{filter:grayscale(1) opacity(.3)}.legality-table .ball-col.active .pokesprite{filter:none}.legality-table .ball-col.illegal .pokesprite{filter:brightness(0) opacity(.3)}@media (prefers-color-scheme: dark){.legality-table{color:#fffc;background:#212121}.legality-row:nth-child(2n){background:#2f3232}}@media screen and (max-width: 720px){.legality-row{flex-wrap:wrap}.legality-row .name{width:100%}}\n"],encapsulation:2}),t})()},{path:":worksheetTitle",component:$}]}];let V=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.Bz.forChild(z)],l.Bz]}),t})();var R=a(4466),X=a(3830),D=a(3075),E=a(7549);let G=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[c.N],imports:[[s.ez,V,R.m,X.z,g.lG,D.UX,E.Q]]}),t})()}}]);
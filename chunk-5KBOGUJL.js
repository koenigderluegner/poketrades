import{a as M,b as O,f as J,g as U,h as W,i as X,j as te,k as ie}from"./chunk-F3VEG2NX.js";import{da as Q}from"./chunk-TB2URKG7.js";import{B as Y,C as Z,F as ee,a as v,b as q,p as z,y as x}from"./chunk-I7FIH5PJ.js";import{$a as f,Fa as w,Ga as B,La as g,Lb as T,M as k,Mb as V,Nb as R,P as A,Pa as c,Ra as I,T as S,Ua as j,Va as h,W as d,Wa as b,Xa as y,Ya as C,Yb as L,Za as p,Zb as K,_a as r,bc as E,db as l,o as $,ob as F,qb as G,r as D,ub as H,va as a,vb as N,wb as s,xb as m}from"./chunk-IOIAQSLZ.js";var se=t=>[t,"breedables","overview"],me=(t,e)=>[t,"breedables",e];function de(t,e){if(t&1&&(p(0,"app-sub-navi-item",7),s(1,"slugify"),f(2,"app-item",6),s(3,"slugify"),r()),t&2){let o=e.$implicit,i=l(2);c("link",N(8,me,"/"+i.spreadsheetId,m(1,4,o.title)))("text",o.title)("meta",o.ownedEntries+"/"+(o.data?o.data.length:"???")),a(2),c("slug",m(3,6,o.title))}}function ce(t,e){if(t&1&&(p(0,"ul",3)(1,"app-sub-navi-item",5),f(2,"app-item",6),r(),y(3,de,4,11,"app-sub-navi-item",7,b),r()),t&2){let o=l();a(),c("link",H(3,se,"/"+o.spreadsheetId))("text","Overview"),a(),c("slug","master"),a(),C(o.worksheets)}}var ne=(()=>{let e=class e{constructor(){this.spreadsheetFacade=d(x),this.isView=!0,this.spreadsheetData$=this.spreadsheetFacade.getCurrentSpreadsheet$()}ngOnInit(){this.spreadsheetData$.subscribe({next:i=>{this.spreadsheetId=i.username?"u/"+i.username:i.id,this.worksheets=i.worksheets.filter(n=>n.config?.type==="Breedables")}})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=w({type:e,selectors:[["app-index"]],hostVars:2,hostBindings:function(n,u){n&2&&I("view",u.isView)},standalone:!1,decls:8,vars:1,consts:[[1,"view-header"],[1,"view-addional-content"],[1,"view-sidebar"],[1,"sub-navi"],[1,"view-content"],[3,"link","text"],["category","ball",3,"slug"],[3,"link","text","meta"]],template:function(n,u){n&1&&(p(0,"header",0),F(1,"breedables"),r(),p(2,"div",1),f(3,"app-grid-controller"),r(),p(4,"aside",2),g(5,ce,5,5,"ul",3),r(),p(6,"div",4),f(7,"router-outlet"),r()),n&2&&(a(5),h(u.worksheets?5:-1))},dependencies:[K,q,J,M,v],styles:["@media screen and (max-width: 720px){.view-header[_ngcontent-%COMP%]{order:1}.view-addional-content[_ngcontent-%COMP%]{order:3}.view-sidebar[_ngcontent-%COMP%]{order:2}.view-content[_ngcontent-%COMP%]{order:4}}"]});let t=e;return t})();function ue(t,e){if(t&1&&(f(0,"app-grid-item",1),s(1,"castBreedable")),t&2){let o=e.$implicit;c("pokemon",m(1,1,o))}}function ge(t,e){if(t&1&&(p(0,"app-grid",0),y(1,ue,2,3,"app-grid-item",1,j().trackBy,!0),r()),t&2){let o=l(),i=l();c("appearance",o),a(),C(i.worksheet==null?null:i.worksheet.data)}}function he(t,e){if(t&1&&g(0,ge,3,1,"app-grid",0),t&2){let o=l();h(o.worksheet?0:-1)}}var oe=(()=>{let e=class e{constructor(){this.spreadsheetFacade=d(x),this.route=d(L),this.slugifyPipe=d(v),this.gridService=d(O),this.subscriptions=[],this.gridService.updateHideAppearanceControl(!1),this.gridService.updateHideOwnedStatusControl(!1),this.gridAppearance$=this.gridService.getGridAppearance$()}ngOnInit(){this.route.paramMap.pipe(A(i=>this.worksheetTitle=i.get("worksheetTitle")??""),k(()=>this.spreadsheetFacade.getCurrentSpreadsheet$())).subscribe({next:i=>{this.worksheet=i.worksheets.filter(n=>this.slugifyPipe.transform(n.title)===this.worksheetTitle)?.[0]}})}trackBy(i,n){return n.id}ngOnDestroy(){for(let i of this.subscriptions)i.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=w({type:e,selectors:[["app-ball"]],standalone:!1,decls:2,vars:3,consts:[[3,"appearance"],[3,"pokemon"]],template:function(n,u){if(n&1&&(g(0,he,1,1),s(1,"async")),n&2){let _;h((_=m(1,1,u.gridAppearance$))?0:-1,_)}},dependencies:[X,W,T,Z],encapsulation:2});let t=e;return t})();function ve(t,e){if(t&1&&(p(0,"div",5),s(1,"slugify"),f(2,"app-item",6),s(3,"slugify"),r()),t&2){let o,i=e.$implicit,n=l().$implicit,u=l(2);I("active",(o=u.entries[i.key][m(1,5,n.pokemon)])==null?null:o.isOwned)("illegal",n[i.key]===null),a(2),c("slug",m(3,7,i.key))}}function ye(t,e){if(t&1&&(p(0,"div",1)(1,"div",2),f(2,"app-pokemon",3),s(3,"nameToSlug"),F(4),r(),y(5,ve,4,9,"div",4,b),s(7,"keyvalue"),r()),t&2){let o=e.$implicit,i=l(2);a(2),c("slug",m(3,2,o.pokemon)),a(2),G(" ",o.pokemon," "),a(),C(m(7,4,i.entries))}}function Ce(t,e){if(t&1&&y(0,ye,8,6,"div",1,b),t&2){let o=l();C(o.legality)}}function we(t,e){t&1&&(p(0,"div",0),g(1,Ce,2,0),r()),t&2&&(a(),h(e?1:-1))}var re=(()=>{let e=class e{constructor(){this.facade=d(x),this.db=d(Q),this.gridService=d(O),this.gridService.updateHideAppearanceControl(!0),this.gridService.updateHideOwnedStatusControl(!0),this.data$=D([this.db.getBreedableLegality(),this.facade.getCurrentSpreadsheet$()]).pipe(k(i=>$({legality:i[0],entries:i[1].overviewEntries??{}})))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=w({type:e,selectors:[["app-overview"]],standalone:!1,decls:2,vars:3,consts:[[1,"legality-table"],[1,"legality-row","d-flex"],[1,"name","d-flex"],[3,"slug"],[1,"ball-col",3,"active","illegal"],[1,"ball-col"],["category","ball",3,"slug"]],template:function(n,u){if(n&1&&(g(0,we,2,1,"div",0),s(1,"async")),n&2){let _;h((_=m(1,1,u.data$))?0:-1,_)}},dependencies:[U,M,T,V,v,Y],styles:[`.legality-row{align-items:center;padding-right:10px;border-radius:5px;margin:8px 0}.legality-row .name{width:300px;align-items:center}.legality-row:nth-child(2n){background:#efefef}.legality-table{background:#fff;border-radius:12px;display:inline-block;padding:15px}.legality-table .ball-col .pokesprite{filter:grayscale(1) opacity(.3)}.legality-table .ball-col.active .pokesprite{filter:none}.legality-table .ball-col.illegal .pokesprite{filter:brightness(0) opacity(.3)}@media (prefers-color-scheme: dark){.legality-table{color:#fffc;background:#212121}.legality-row:nth-child(2n){background:#2f3232}}@media screen and (max-width: 720px){.legality-row{flex-wrap:wrap}.legality-row .name{width:100%}}
`],encapsulation:2});let t=e;return t})();var xe=[{path:"",component:ne,children:[{path:"overview",component:re},{path:":worksheetTitle",component:oe}]}],ae=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=B({type:e}),e.\u0275inj=S({imports:[E.forChild(xe),E]});let t=e;return t})();var ht=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=B({type:e}),e.\u0275inj=S({providers:[v],imports:[R,ae,ee,ie,z,te]});let t=e;return t})();export{ht as BreedableModule};

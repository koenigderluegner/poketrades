"use strict";(self.webpackChunkpoketrades=self.webpackChunkpoketrades||[]).push([[333],{333:(D,m,o)=>{o.r(m),o.d(m,{BreedableModule:()=>X});var r=o(6814),c=o(2787),e=o(9212),p=o(7723),v=o(4416),f=o(405),u=o(8163),d=o(7317);const w=(t,a)=>[t,"breedables",a];function y(t,a){if(1&t&&(e.TgZ(0,"app-sub-navi-item",8),e.ALo(1,"slugify"),e._UZ(2,"app-item",7),e.ALo(3,"slugify"),e.qZA()),2&t){const i=a.$implicit,n=e.oxw(2);e.Q6J("link",e.WLB(8,w,"/"+n.spreadsheetId,e.lcZ(1,4,i.title)))("text",i.title)("meta",i.ownedEntries+"/"+(i.data?i.data.length:"???")),e.xp6(2),e.Q6J("slug",e.lcZ(3,6,i.title))}}const x=t=>[t,"breedables","overview"];function C(t,a){if(1&t&&(e.TgZ(0,"ul",5)(1,"app-sub-navi-item",6),e._UZ(2,"app-item",7),e.qZA(),e.SjG(3,y,4,11,"app-sub-navi-item",8,e.x6l),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("link",e.VKq(3,x,"/"+i.spreadsheetId))("text","Overview"),e.xp6(1),e.Q6J("slug","master"),e.xp6(1),e.wJu(i.worksheets)}}let b=(()=>{class t{constructor(i){this.spreadsheetFacade=i,this.isView=!0,this.spreadsheetData$=this.spreadsheetFacade.getCurrentSpreadsheet$()}ngOnInit(){this.spreadsheetData$.subscribe({next:i=>{this.spreadsheetId=i.username?"u/"+i.username:i.id,this.worksheets=i.worksheets.filter(n=>"Breedables"===n.config?.type)}})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(p.s))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-index"]],hostVars:2,hostBindings:function(n,s){2&n&&e.ekj("view",s.isView)},decls:8,vars:1,consts:[[1,"view-header"],[1,"view-addional-content"],[1,"view-sidebar"],["class","sub-navi"],[1,"view-content"],[1,"sub-navi"],[3,"link","text"],["category","ball",3,"slug"],[3,"link","text","meta"]],template:function(n,s){1&n&&(e.TgZ(0,"header",0),e._uU(1,"breedables"),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-grid-controller"),e.qZA(),e.TgZ(4,"aside",2),e.YNc(5,C,5,5,"ul",3),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"router-outlet"),e.qZA()),2&n&&(e.xp6(5),e.um2(5,s.worksheets?5:-1))},dependencies:[c.lC,v.H,f.V,u.P,d.N],styles:["@media screen and (max-width: 720px){.view-header[_ngcontent-%COMP%]{order:1}.view-addional-content[_ngcontent-%COMP%]{order:3}.view-sidebar[_ngcontent-%COMP%]{order:2}.view-content[_ngcontent-%COMP%]{order:4}}"]})}return t})();var Z=o(9397),g=o(4664),h=o(6747),A=o(9231),T=o(227);let k=(()=>{class t{transform(i){return i}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=e.Yjl({name:"castBreedable",type:t,pure:!0})}return t})();function B(t,a){1&t&&(e._UZ(0,"app-grid-item",1),e.ALo(1,"castBreedable")),2&t&&e.Q6J("pokemon",e.lcZ(1,1,a.$implicit))}function O(t,a){if(1&t&&(e.TgZ(0,"app-grid",0),e.SjG(1,B,2,3,"app-grid-item",1,e.QCX().trackBy),e.qZA()),2&t){const i=e.oxw(),n=e.oxw();e.Q6J("appearance",i),e.xp6(1),e.wJu(null==n.worksheet?null:n.worksheet.data)}}function S(t,a){if(1&t&&e.YNc(0,O,3,1,"app-grid",0),2&t){const i=e.oxw();e.um2(0,i.worksheet?0:-1)}}let F=(()=>{class t{constructor(i,n,s,l){this.spreadsheetFacade=i,this.route=n,this.slugifyPipe=s,this.gridService=l,this.subscriptions=[],this.gridService.updateHideAppearanceControl(!1),this.gridService.updateHideOwnedStatusControl(!1),this.gridAppearance$=this.gridService.getGridAppearance$()}ngOnInit(){this.route.paramMap.pipe((0,Z.b)(i=>this.worksheetTitle=i.get("worksheetTitle")??""),(0,g.w)(()=>this.spreadsheetFacade.getCurrentSpreadsheet$())).subscribe({next:i=>{this.worksheet=i.worksheets.filter(n=>this.slugifyPipe.transform(n.title)===this.worksheetTitle)?.[0]}})}trackBy(i,n){return n.id}ngOnDestroy(){for(const i of this.subscriptions)i.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(p.s),e.Y36(c.gz),e.Y36(d.N),e.Y36(h.r))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-ball"]],decls:2,vars:3,consts:[[3,"appearance"],[3,"pokemon"]],template:function(n,s){if(1&n&&(e.YNc(0,S,1,1),e.ALo(1,"async")),2&n){let l;e.um2(0,(l=e.lcZ(1,1,s.gridAppearance$))?0:-1,l)}},dependencies:[A.M,T.b,r.Ov,k]})}return t})();var J=o(2572),$=o(2096),Y=o(6928),L=o(4990),j=o(1550);function I(t,a){if(1&t&&(e.TgZ(0,"div",5),e.ALo(1,"slugify"),e._UZ(2,"app-item",6),e.ALo(3,"slugify"),e.qZA()),2&t){const i=a.$implicit,n=e.oxw().$implicit,s=e.oxw(2);e.ekj("active",null==s.entries[i.key][e.lcZ(1,5,n.pokemon)]?null:s.entries[i.key][e.lcZ(1,5,n.pokemon)].isOwned)("illegal",null===n[i.key]),e.xp6(2),e.Q6J("slug",e.lcZ(3,7,i.key))}}function M(t,a){if(1&t&&(e.TgZ(0,"div",2)(1,"div",3),e._UZ(2,"app-pokemon",4),e.ALo(3,"nameToSlug"),e._uU(4),e.qZA(),e.SjG(5,I,4,9,"div",7,e.x6l),e.ALo(7,"keyvalue"),e.qZA()),2&t){const i=a.$implicit,n=e.oxw(2);e.xp6(2),e.Q6J("slug",e.lcZ(3,2,i.pokemon)),e.xp6(2),e.hij(" ",i.pokemon," "),e.xp6(1),e.wJu(e.lcZ(7,4,n.entries))}}function N(t,a){if(1&t&&e.SjG(0,M,8,6,"div",8,e.x6l),2&t){const i=e.oxw();e.wJu(i.legality)}}function Q(t,a){1&t&&(e.TgZ(0,"div",1),e.YNc(1,N,2,0),e.qZA()),2&t&&(e.xp6(1),e.um2(1,a?1:-1))}const U=[{path:"",component:b,children:[{path:"overview",component:(()=>{class t{constructor(i,n,s){this.facade=i,this.db=n,this.gridService=s,this.gridService.updateHideAppearanceControl(!0),this.gridService.updateHideOwnedStatusControl(!0),this.data$=(0,J.a)([this.db.getBreedableLegality(),this.facade.getCurrentSpreadsheet$()]).pipe((0,g.w)(l=>(0,$.of)({legality:l[0],entries:l[1].overviewEntries??{}})))}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(p.s),e.Y36(Y.d),e.Y36(h.r))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-overview"]],decls:2,vars:3,consts:[["class","legality-table"],[1,"legality-table"],[1,"legality-row","d-flex"],[1,"name","d-flex"],[3,"slug"],[1,"ball-col"],["category","ball",3,"slug"],["class","ball-col",3,"active","illegal"],["class","legality-row d-flex"]],template:function(n,s){if(1&n&&(e.YNc(0,Q,2,1,"div",0),e.ALo(1,"async")),2&n){let l;e.um2(0,(l=e.lcZ(1,1,s.data$))?0:-1,l)}},dependencies:[L.J,u.P,r.Ov,r.Nd,d.N,j.q],styles:[".legality-row{align-items:center;padding-right:10px;border-radius:5px;margin:8px 0}.legality-row .name{width:300px;align-items:center}.legality-row:nth-child(2n){background:#efefef}.legality-table{background:#fff;border-radius:12px;display:inline-block;padding:15px}.legality-table .ball-col .pokesprite{filter:grayscale(1) opacity(.3)}.legality-table .ball-col.active .pokesprite{filter:none}.legality-table .ball-col.illegal .pokesprite{filter:brightness(0) opacity(.3)}@media (prefers-color-scheme: dark){.legality-table{color:#fffc;background:#212121}.legality-row:nth-child(2n){background:#2f3232}}@media screen and (max-width: 720px){.legality-row{flex-wrap:wrap}.legality-row .name{width:100%}}\n"],encapsulation:2})}return t})()},{path:":worksheetTitle",component:F}]}];let P=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(U),c.Bz]})}return t})();var H=o(6208),z=o(3877),G=o(6223),V=o(7396);let X=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({providers:[d.N],imports:[r.ez,P,H.m,z.z,G.UX,V.Q]})}return t})()}}]);
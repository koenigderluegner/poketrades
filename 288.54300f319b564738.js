"use strict";(self.webpackChunkpoketrades=self.webpackChunkpoketrades||[]).push([[288],{8288:(U,c,s)=>{s.r(c),s.d(c,{SpreadsheetChangerModule:()=>B});var d=s(9808),l=s(4521),i=s(3075),u=s(2340),e=s(5e3),g=s(6276),p=s(710),m=s(8059),f=s(2925);function _(t,o){if(1&t){const n=e.EpF();e.TgZ(0,"li",11),e.NdJ("click",function(){const h=e.CHM(n).$implicit;return e.oxw().fromHistory(h.id)}),e._uU(1),e.qZA()}if(2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",n.title," ")}}function x(t,o){1&t&&(e.TgZ(0,"div",18)(1,"div",19),e._uU(2,"Contains valuables!"),e.qZA(),e.TgZ(3,"div",20),e._uU(4,"Valuables are Pok\xe9mon with a certain rarity. Event, shiny, competitive, legendary Pok\xe9mon and others. "),e.qZA()())}function v(t,o){1&t&&(e.TgZ(0,"div",18)(1,"div",19),e._uU(2,"Contains breedables!"),e.qZA(),e.TgZ(3,"div",20),e._uU(4,"Breedables are Pok\xe9mon, which can be bred or are a result of breeding. They are usually collected in different kind of balls like Bulbasaur in a Friend Ball. "),e.qZA()())}function b(t,o){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",2),e._uU(2),e.qZA(),e._UZ(3,"div",14),e.YNc(4,x,5,0,"div",15),e.YNc(5,v,5,0,"div",15),e.TgZ(6,"div",16)(7,"button",17),e.NdJ("click",function(){e.CHM(n);const a=e.oxw().$implicit;return e.oxw(2).saveSpreadsheet(a)}),e._uU(8,"Save as current spreadsheet"),e.qZA()(),e.BQk()}if(2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.title),e.xp6(2),e.Q6J("ngIf",n.hasValuables),e.xp6(1),e.Q6J("ngIf",n.hasBreedables)}}function y(t,o){if(1&t&&(e.ynx(0),e.YNc(1,b,9,3,"ng-container",13),e.BQk()),2&t){const n=o.$implicit;e.xp6(1),e.Q6J("ngIf",n)}}function C(t,o){if(1&t&&(e.ynx(0),e.YNc(1,y,2,1,"ng-container",12),e.BQk()),2&t){const n=e.oxw(),r=e.MAs(17),a=e.MAs(19);e.xp6(1),e.Q6J("ngxSubscribeOf",n.loadedSpreadsheet$)("ngxSubscribeBeforeAny",r)("ngxSubscribeOnError",a)}}function Z(t,o){1&t&&(e.TgZ(0,"app-ball-guy-bubble")(1,"div"),e._uU(2,"Enter a spreadsheet ID to load a spreadsheet."),e.qZA(),e.TgZ(3,"div"),e._uU(4,"Make sure the spreadsheet with that given ID is published to web and made from the template!"),e.qZA(),e.TgZ(5,"div"),e._uU(6,"Currently no other spreadsheet template it supported."),e.qZA()())}function T(t,o){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-spinner",21),e.TgZ(2,"div",22),e._uU(3,"Load spreadsheet"),e.qZA()())}function S(t,o){if(1&t&&e.YNc(0,T,4,0,"div",13),2&t){const n=e.oxw();e.Q6J("ngIf",n.hasRequested)}}function I(t,o){1&t&&e._uU(0),2&t&&e.hij("Error: ",o.error.message,"")}const w=[{path:"",component:(()=>{class t{constructor(n){this.spreadsheetFacade=n,this.classes="view spreadsheet-changer-view",this.hasRequested=!1,this.apiKey=u.N.googleApiKey,this.searchForm=new i.cw({search:new i.NI("")}),this.isLoading$=this.spreadsheetFacade.isLoading$(),this.spreadsheetHistory$=this.spreadsheetFacade.getSpreadsheetHistory$()}submitSearch(){this.hasRequested=!0,this.loadedSpreadsheet$=this.spreadsheetFacade.searchSpreadsheet(this.searchForm.controls.search.value,this.apiKey)}saveSpreadsheet(n){this.spreadsheetFacade.updateCurrentSpreadsheet(n)}fromHistory(n){this.hasRequested=!0,this.loadedSpreadsheet$=this.spreadsheetFacade.loadSpreadsheet(n,this.apiKey)}trackBy(n,r){return r.id}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.s))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-index"]],hostVars:2,hostBindings:function(n,r){2&n&&e.Tol(r.classes)},decls:20,vars:7,consts:[[1,"view-header","full-width"],[1,"view-sidebar"],[1,"view-subheader"],[3,"formGroup","submit"],["id","search","formControlName","search","placeholder","Look up spreadsheet by id"],["class","history-entry",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"view-content"],[4,"ngIf","ngIfElse"],["notRequestedYet",""],["pendingTemplate",""],["errorTemplate",""],[1,"history-entry",3,"click"],[4,"ngxSubscribe","ngxSubscribeOf","ngxSubscribeBeforeAny","ngxSubscribeOnError"],[4,"ngIf"],[1,""],["class","collection-infos",4,"ngIf"],[1,"button-row"],[1,"save-button",3,"click"],[1,"collection-infos"],[1,"title"],[1,"text"],[1,"centered-spinner"],[1,"t-align-center"]],template:function(n,r){if(1&n&&(e.TgZ(0,"header",0),e._uU(1,"Change spreadsheet"),e.qZA(),e.TgZ(2,"aside",1)(3,"div",2),e._uU(4,"Spreadsheet search"),e.qZA(),e.TgZ(5,"form",3),e.NdJ("submit",function(){return r.submitSearch()}),e._UZ(6,"input",4),e.qZA(),e.TgZ(7,"div",2),e._uU(8," search history "),e.qZA(),e.TgZ(9,"ul"),e.YNc(10,_,2,1,"li",5),e.ALo(11,"async"),e.qZA()(),e.TgZ(12,"div",6),e.YNc(13,C,2,3,"ng-container",7),e.qZA(),e.YNc(14,Z,7,0,"ng-template",null,8,e.W1O),e.YNc(16,S,1,1,"ng-template",null,9,e.W1O),e.YNc(18,I,1,1,"ng-template",null,10,e.W1O)),2&n){const a=e.MAs(15);e.xp6(5),e.Q6J("formGroup",r.searchForm),e.xp6(5),e.Q6J("ngForOf",e.lcZ(11,5,r.spreadsheetHistory$))("ngForTrackBy",r.trackBy),e.xp6(3),e.Q6J("ngIf",r.loadedSpreadsheet$)("ngIfElse",a)}},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.sg,d.O5,p.eB,m.U,f.O],pipes:[d.Ov],styles:["#search,.history-entry,.save-button{font-size:90%;font-weight:500;line-height:32px;color:#000;border-radius:42px;box-shadow:0 3px 5px #0006;align-items:center;width:100%;overflow:hidden;border:none;outline:none;padding:0 8px;background:#fff}.history-entry{cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-bottom:16px}.save-button{cursor:pointer;width:auto}.spreadsheet-changer-view .centered-spinner{margin:20px auto}.collection-infos{margin-top:16px}.collection-infos .title{font-size:18px}.collection-infos .text{margin:0 0 8px;line-height:1.4;color:#000000e6}@media (prefers-color-scheme: dark){#search,.history-entry,.save-button{background:#21262d;color:#efe2e3}.collection-infos .title{color:#efe2e3}.collection-infos .text{color:#ffffffb3}}@media screen and (max-width: 720px){.spreadsheet-changer-view .view-sidebar{order:2}}\n"],encapsulation:2}),t})()}];let A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.Bz.forChild(w)],l.Bz]}),t})();var F=s(4466);let B=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,A,i.UX,p.lG,F.m]]}),t})()}}]);
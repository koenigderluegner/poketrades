import{a as Va}from"./chunk-4ZX2LNC5.js";import{$ as Ra,C as Ca,G as be,J as Pa,S as Da,Z as Na,_ as Ia,b as Aa,ca as Fa,da as za,ea as Oa,f as y,fa as ja,g as G,ga as Ba,k as Ma,l as ue,q as _t,r as pe,s as qt}from"./chunk-TB2URKG7.js";import{b as qa}from"./chunk-SCARZOA3.js";import{E as Ka,F as $t,a as Kt,w as La,x as Qt,y as Ht}from"./chunk-I7FIH5PJ.js";import{$a as at,$b as Vt,Aa as na,Bb as kt,Ca as ia,Da as oa,Fa as et,Ga as W,Ha as ra,Hb as fa,Ja as sa,Ka as la,La as dt,M as Ye,Nb as ha,Oa as ca,P as Ze,Pa as mt,Q as w,Qb as ga,Ra as Z,Rb as va,S as yt,Sa as da,Sb as ya,T as U,Tb as _a,U as Xe,Ub as wa,V as zt,Va as q,Vb as Bt,W as A,Wb as Sa,Xb as Ea,Z as lt,Za as x,Zb as xa,_ as ct,_a as T,_b as Ta,a as Ft,ab as Tt,ac as ka,bc as At,c as We,cb as nt,db as R,ea as Lt,eb as ma,fb as Ot,ia as Je,lb as ua,mb as pa,o as me,oa as Et,ob as N,p as Ge,pb as jt,sa as ta,ua as ea,va as P,wa as xt,xa as aa,zb as ba}from"./chunk-IOIAQSLZ.js";var Qa={path:"tools",loadChildren:()=>import("./chunk-MWGFUDI2.js").then(i=>i.ToolsModule)},fe=[{path:"breedables",loadChildren:()=>import("./chunk-5KBOGUJL.js").then(i=>i.BreedableModule)},{path:"valuables",loadChildren:()=>import("./chunk-677V6WHT.js").then(i=>i.ValuableModule)}];fe.push(Qa);var Ha=[{path:"",loadChildren:()=>import("./chunk-NXTV4YFK.js").then(i=>i.ChangelogModule)},{path:"help",loadChildren:()=>import("./chunk-I446JQIL.js").then(i=>i.HelpModule)},{path:"change-spreadsheet",loadChildren:()=>import("./chunk-3NNAR44D.js").then(i=>i.SpreadsheetChangerModule)},{path:":spreadsheetId",children:fe},{path:"u/:username",children:fe}];Ha.unshift(Qa);var $a=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=W({type:t}),t.\u0275inj=U({imports:[At.forRoot(Ha,{}),At]});let i=t;return i})();var Ua=(()=>{let t=class t{constructor(){this.httpClient=A(ga)}loadDatabase(){return this.db?me(this.db):this.httpClient.get("assets/database/users.json").pipe(Ze(a=>{this.db=a}))}findUser(a){return this.loadDatabase().pipe(Ye(n=>n[a]?me(n[a]):Ge("No user found with name: "+a)))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=yt({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Rn=["mat-button",""],Fn=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],zn=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Ln=new Xe("MAT_BUTTON_CONFIG");var On=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],jn=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(a){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,a)}get disableRipple(){return this._disableRipple}set disableRipple(a){this._disableRipple=a,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(a){this._disabled=a,this._updateRippleDisabled()}constructor(a,n,o,r){this._elementRef=a,this._platform=n,this._ngZone=o,this._animationMode=r,this._focusMonitor=A(Ca),this._rippleLoader=A(Da),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let s=A(Ln,{optional:!0}),l=a.nativeElement,c=l.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:m,mdcClasses:d}of On)l.hasAttribute(m)&&c.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(a="program",n){a?this._focusMonitor.focusVia(this._elementRef.nativeElement,a,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(n){aa()},t.\u0275dir=ra({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",kt],disabled:[2,"disabled","disabled",kt],ariaDisabled:[2,"aria-disabled","ariaDisabled",kt],disabledInteractive:[2,"disabledInteractive","disabledInteractive",kt]},standalone:!1,features:[la]});let i=t;return i})();var Wa=(()=>{let t=class t extends jn{constructor(a,n,o,r){super(a,n,o,r)}};t.\u0275fac=function(n){return new(n||t)(xt(Je),xt(Aa),xt(Lt),xt(Et,8))},t.\u0275cmp=et({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(ca("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),da(o.color?"mat-"+o.color:""),Z("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[sa],attrs:Rn,ngContentSelectors:zn,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(ma(Fn),at(0,"span",0),Ot(1),x(2,"span",1),Ot(3,1),T(),Ot(4,2),at(5,"span",2)(6,"span",3)),n&2&&Z("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let i=t;return i})();var Ga=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=W({type:t}),t.\u0275inj=U({imports:[be,Pa,be]});let i=t;return i})();var Vn=["menuTemplate"];function Kn(i,t){if(i&1&&(x(0,"li")(1,"a",7),N(2,"Breedables"),T()()),i&2){let e=R(3);P(),mt("routerLink",e.breeablesLink)}}function qn(i,t){if(i&1&&(x(0,"li")(1,"a",7),N(2,"Valuables"),T()()),i&2){let e=R(3);P(),mt("routerLink",e.valuablesLinkArray)}}function Qn(i,t){if(i&1&&(x(0,"nav",3)(1,"div",5)(2,"ul")(3,"li")(4,"a",6),N(5,"Change Spreadsheet"),T()(),dt(6,Kn,3,1,"li")(7,qn,3,1,"li"),x(8,"li")(9,"a",7),N(10,"Tools"),T()()()()()),i&2){let e=R(2);P(6),q(e.spreadsheetData.hasBreedables?6:-1),P(),q(e.spreadsheetData.hasValuables&&e.valuablesLink?7:-1),P(2),mt("routerLink",e.toolsLink)}}function Hn(i,t){if(i&1){let e=Tt();x(0,"button",8),nt("click",function(){lt(e);let n=R(2);return ct(n.openMenu())}),x(1,"mat-icon"),N(2,"menu"),T()()}}function $n(i,t){if(i&1){let e=Tt();x(0,"li")(1,"a",11),nt("click",function(){lt(e);let n=R(3);return ct(n.closeMenu())}),N(2,"Breedables"),T()()}if(i&2){let e=R(3);P(),mt("routerLink",e.breeablesLink)}}function Un(i,t){if(i&1){let e=Tt();x(0,"li")(1,"a",11),nt("click",function(){lt(e);let n=R(3);return ct(n.closeMenu())}),N(2,"Valuables"),T()()}if(i&2){let e=R(3);P(),mt("routerLink",e.valuablesLinkArray)}}function Wn(i,t){if(i&1){let e=Tt();x(0,"ul",9),nt("click",function(){lt(e);let n=R(2);return ct(n.closeMenu())}),x(1,"li")(2,"a",10),nt("click",function(){lt(e);let n=R(2);return ct(n.closeMenu())}),N(3,"Change Spreadsheet"),T()(),dt(4,$n,3,1,"li")(5,Un,3,1,"li"),x(6,"li")(7,"a",11),nt("click",function(){lt(e);let n=R(2);return ct(n.closeMenu())}),N(8,"Tools"),T()()()}if(i&2){let e=R(2);P(4),q(e.spreadsheetData.hasBreedables?4:-1),P(),q(e.spreadsheetData.hasValuables&&e.valuablesLink?5:-1),P(2),mt("routerLink",e.toolsLink)}}function Gn(i,t){if(i&1&&(x(0,"div",1)(1,"a",2),N(2),T()(),dt(3,Qn,11,3,"nav",3)(4,Hn,3,0,"button",4)(5,Wn,9,3,"ng-template",null,0,ba)),i&2){let e=R();P(2),jt(e.spreadsheetData.title?e.spreadsheetData.title:"Pok\xE9trades"),P(),q(e.windowSize>=1200?3:-1),P(),q(e.windowSize<1200?4:-1)}}var Za=(()=>{let t=class t{constructor(){this.spreadsheetFacade=A(Ht),this.overlay=A(Ra),this.viewContainerRef=A(ia),this.slugifyPipe=A(Kt),this.setClass=!0,this.windowSize=window.innerWidth,this.templatePortalContent=oa.required("menuTemplate"),this.breeablesLink=[],this.valuablesLinkArray=[],this.toolsLink=[]}onResize(a){this.windowSize=a.target.innerWidth,this.windowSize>=1200&&this.overlayRef?.dispose()}ngOnInit(){this.spreadsheetFacade.getCurrentSpreadsheet$().subscribe({next:a=>{this.breeablesLink=["/"+(a.username?"u/"+a.username:a.id),"breedables","overview"],this.spreadsheetData=a,this.spreadsheetData.hasValuables&&(this.valuablesLink=this.spreadsheetData.worksheets.filter(n=>n.config?.type==="Valuables")[0].title,this.valuablesLinkArray=["/"+(a.username?"u/"+a.username:a.id),"valuables",this.slugifyPipe.transform(this.valuablesLink)]),this.toolsLink=[a?"/"+(a.username?"u/"+a.username:a.id):"","tools"]}})}openMenu(){let a=new Ia;a.positionStrategy=this.overlay.position().global().top("53px"),a.width="100%",a.height="calc(100vh - 53px)",a.backdropClass="main-menu-backdrop",a.scrollStrategy=this.overlay.scrollStrategies.block(),a.hasBackdrop=!0,this.overlayRef=this.overlay.create(a),this.overlayRef.backdropClick().subscribe(()=>{this.overlayRef?.dispose()}),this.overlayRef.attach(new Na(this.templatePortalContent(),this.viewContainerRef))}closeMenu(){this.overlayRef?.dispose()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=et({type:t,selectors:[["app-header"]],viewQuery:function(n,o){n&1&&ua(o.templatePortalContent,Vn,5),n&2&&pa()},hostVars:2,hostBindings:function(n,o){n&1&&nt("resize",function(s){return o.onResize(s)},!1,ea),n&2&&Z("app-header",o.setClass)},standalone:!1,decls:1,vars:1,consts:[["menuTemplate",""],[1,"App-title"],["routerLink","/"],[1,"App-navigation"],["type","button","mat-button",""],[1,"nav-wrapper"],["routerLink","/change-spreadsheet"],["routerLinkActive","selected",3,"routerLink"],["type","button","mat-button","",3,"click"],["id","pop-up-main-menu",3,"click"],["routerLink","/change-spreadsheet",3,"click"],["routerLinkActive","selected",3,"click","routerLink"]],template:function(n,o){n&1&&dt(0,Gn,7,3),n&2&&q(o.spreadsheetData?0:-1)},dependencies:[Vt,ka,ja,Wa],styles:[`.app-header{color:#fff;background:#060606;height:53px;padding:0 3rem;width:100%;display:flex;justify-content:space-between;transition:padding .2s linear}.app-header a{text-decoration:none}.app-header .App-title,.app-header .App-navigation ul{display:flex;align-items:center}.app-header .App-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.app-header .App-navigation ul{justify-content:flex-end}.app-header .App-navigation ul a{color:#c9cacc;padding:1.6rem;display:block}.app-header:before,.app-header:after{content:"";display:block;position:fixed;top:0;-webkit-transform-origin:right top;transform-origin:right top;-webkit-transform:rotate(24deg);transform:rotate(24deg);z-index:-1;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden}.app-header:before{background-color:#bd2732;right:48%;width:130vw;height:130vw}.app-header:after{background-color:#dd313d;right:60%;width:100vw;height:100vw}#pop-up-main-menu{width:100%;display:block;background:#000000b3;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);transition:opacity .4s cubic-bezier(.25,.8,.25,1)}#pop-up-main-menu a{color:#fffc;display:block;width:100%;padding:16px;text-decoration:none}@media (prefers-color-scheme: dark){.app-header:before{background-color:#67181e}.app-header:after{background-color:#821f26}}@media screen and (max-width: 720px){.app-header{padding:0 0 0 1rem}}
`],encapsulation:2});let i=t;return i})();var Xa=(()=>{let t=class t{constructor(){this.setClass=!0}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=et({type:t,selectors:[["app-footer"]],hostVars:2,hostBindings:function(n,o){n&2&&Z("footer",o.setClass)},standalone:!1,decls:9,vars:0,consts:[[1,"copy"],[1,"link-list"],["routerLink","help"],["href","https://github.com/koenigderluegner/poketrades"]],template:function(n,o){n&1&&(x(0,"div",0),N(1,"Pok\xE9mon and in-game images are \xA9 Nintendo/Creatures Inc./GAME FREAK Inc."),T(),x(2,"ul",1)(3,"li")(4,"a",2),N(5,"Help"),T()(),x(6,"li")(7,"a",3),N(8,"Code on GitHub"),T()()())},dependencies:[Vt],styles:[`.footer{color:#fff;background:#060606;height:53px;padding:0 3rem;width:100%;display:flex;justify-content:space-between;transition:padding .2s linear}.footer .copy{padding:1.6rem}.footer .copy,.footer .link-list{display:flex;align-items:center}.footer .link-list a{text-decoration:none;color:#c9cacc;padding:1.6rem;display:block}@media screen and (max-width: 900px){.footer{flex-direction:column;height:auto;min-height:106px}.footer .copy{order:2}}@media screen and (max-width: 720px){.footer{padding:0}}
`],encapsulation:2});let i=t;return i})();function Xn(i,t){if(i&1&&(x(0,"div",0),at(1,"app-spinner"),x(2,"span",1),N(3),T()()),i&2){let e=R();P(),Z("pause-animation",e.errored),P(2),jt(e.loadingMessage)}}function Jn(i,t){i&1&&(at(0,"app-header"),x(1,"main",2),at(2,"router-outlet"),T(),at(3,"app-footer"))}var Ja=(()=>{let t=class t{constructor(){this.spreadsheetFacade=A(Ht),this.databaseFacadeService=A(za),this.userService=A(Ua),this.router=A(Ta),this.gss=A(La),this.matIconRegistry=A(Oa),this.domSanitizer=A(Sa),this.apiKey=Qt.googleApiKey,this.isLoading=!1,this.errored=!1,this.waitingForRouter=!0,this.nonIdRoutes=[]}ngOnInit(){this.registerIcons([{title:"github",link:"assets/images/svg-icons/github.svg"},{title:"shiny-stars",link:"assets/images/svg-icons/shiny-stars.svg"}]),this.nonIdRoutes=this.router.config.map(n=>n.path?n.path:"");let a=this.router.events.subscribe(n=>{n instanceof Ea&&(a.unsubscribe(),this.databaseFacadeService.loadDatabases().subscribe(()=>{let o=n.url.split("/")?.[1];if(o==="u"){let r=n.url.split("/")?.[2];this.isLoading=!0,this.loadingMessage="Search user "+r,this.waitingForRouter=!1,this.userService.findUser(r).subscribe({next:s=>{this.loadData(s,r)},error:s=>{this.loadingMessage=s,this.errored=!0}})}else this.loadData(o)}))})}loadData(a,n){if(a&&!this.nonIdRoutes.includes(a)){this.isLoading=!0,this.waitingForRouter=!1,this.loadingMessage="Load databases from server",this.loadingMessage="Loading spreadsheet from Google API";let o=this.spreadsheetFacade.loadSpreadsheet(a,this.apiKey).subscribe({next:r=>{n&&(r.username=n),this.spreadsheetFacade.updateCurrentSpreadsheet(r),this.isLoading=!1,o.unsubscribe()},error:r=>{this.loadingMessage=r.message,this.errored=!0,o.unsubscribe()}})}else this.isLoading=!1,this.waitingForRouter=!1}registerIcons(a){for(let n of a)this.matIconRegistry.addSvgIcon(n.title,this.domSanitizer.bypassSecurityTrustResourceUrl(n.link))}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=et({type:t,selectors:[["app-root"]],standalone:!1,decls:2,vars:2,consts:[[1,"Loading-wrapper"],[1,"message"],[1,"main-wrapper"]],template:function(n,o){n&1&&dt(0,Xn,4,3,"div",0)(1,Jn,4,0),n&2&&(q(o.isLoading&&!o.waitingForRouter?0:-1),P(),q(!o.isLoading&&!o.waitingForRouter?1:-1))},dependencies:[xa,Za,Xa,Ka],styles:[".Loading-wrapper[_ngcontent-%COMP%]{background:linear-gradient(55deg,#e1e6fc4d 40%,#d4fefc4d 80%) fixed,radial-gradient(circle,#fbf0fe 14%,#f2eff3 42%,#dbeffa 80%) fixed;position:absolute;inset:0}.Loading-wrapper[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{top:calc(50% - 75px);left:calc(50% - 75px);position:absolute;transform:translate(-50%,-50%)}.Loading-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{opacity:.8;color:#000;text-transform:uppercase;position:absolute;bottom:7rem;left:0;width:100%;text-align:center}.main-wrapper[_ngcontent-%COMP%]{min-height:calc(100% - 106px)}@media (prefers-color-scheme: dark){.Loading-wrapper[_ngcontent-%COMP%]{background:linear-gradient(55deg,#343f6f4d 40%,#2c827d4d 80%) fixed,radial-gradient(circle,#151a25 14%,#19151b 42%,#1d0923) fixed}.Loading-wrapper[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{color:#fffc}}@media screen and (max-width: 900px){.main-wrapper[_ngcontent-%COMP%]{min-height:calc(100% - 159px)}}"]});let i=t;return i})();var tn=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=W({type:t}),t.\u0275inj=U({providers:[Kt],imports:[ha,At,$t,Ba,Ga,Fa]});let i=t;return i})();function en(i){return new w(3e3,!1)}function ti(){return new w(3100,!1)}function ei(){return new w(3101,!1)}function ai(i){return new w(3001,!1)}function ni(i){return new w(3003,!1)}function ii(i){return new w(3004,!1)}function oi(i,t){return new w(3005,!1)}function ri(){return new w(3006,!1)}function si(){return new w(3007,!1)}function li(i,t){return new w(3008,!1)}function ci(i){return new w(3002,!1)}function di(i,t,e,a,n){return new w(3010,!1)}function mi(){return new w(3011,!1)}function ui(){return new w(3012,!1)}function pi(){return new w(3200,!1)}function bi(){return new w(3202,!1)}function fi(){return new w(3013,!1)}function hi(i){return new w(3014,!1)}function gi(i){return new w(3015,!1)}function vi(i){return new w(3016,!1)}function yi(i,t){return new w(3404,!1)}function _i(i){return new w(3502,!1)}function wi(i){return new w(3503,!1)}function Si(){return new w(3300,!1)}function Ei(i){return new w(3504,!1)}function xi(i){return new w(3301,!1)}function Ti(i,t){return new w(3302,!1)}function ki(i){return new w(3303,!1)}function Ai(i,t){return new w(3400,!1)}function Mi(i){return new w(3401,!1)}function Ci(i){return new w(3402,!1)}function Pi(i,t){return new w(3505,!1)}function it(i){switch(i.length){case 0:return new _t;case 1:return i[0];default:return new pe(i)}}function hn(i,t,e=new Map,a=new Map){let n=[],o=[],r=-1,s=null;if(t.forEach(l=>{let c=l.get("offset"),m=c==r,d=m&&s||new Map;l.forEach((v,g)=>{let p=g,h=v;if(g!=="offset")switch(p=i.normalizePropertyName(p,n),h){case qt:h=e.get(g);break;case G:h=a.get(g);break;default:h=i.normalizeStyleValue(g,p,h,n);break}d.set(p,h)}),m||o.push(d),s=d,r=c}),n.length)throw _i(n);return o}function Le(i,t,e,a){switch(t){case"start":i.onStart(()=>a(e&&he(e,"start",i)));break;case"done":i.onDone(()=>a(e&&he(e,"done",i)));break;case"destroy":i.onDestroy(()=>a(e&&he(e,"destroy",i)));break}}function he(i,t,e){let a=e.totalTime,n=!!e.disabled,o=Oe(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,a??i.totalTime,n),r=i._data;return r!=null&&(o._data=r),o}function Oe(i,t,e,a,n="",o=0,r){return{element:i,triggerName:t,fromState:e,toState:a,phaseName:n,totalTime:o,disabled:!!r}}function B(i,t,e){let a=i.get(t);return a||i.set(t,a=e),a}function an(i){let t=i.indexOf(":"),e=i.substring(1,t),a=i.slice(t+1);return[e,a]}var Di=typeof document>"u"?null:document.documentElement;function je(i){let t=i.parentNode||i.host||null;return t===Di?null:t}function Ni(i){return i.substring(1,6)=="ebkit"}var ut=null,nn=!1;function Ii(i){ut||(ut=Ri()||{},nn=ut.style?"WebkitAppearance"in ut.style:!1);let t=!0;return ut.style&&!Ni(i)&&(t=i in ut.style,!t&&nn&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in ut.style)),t}function Ri(){return typeof document<"u"?document.body:null}function gn(i,t){for(;t;){if(t===i)return!0;t=je(t)}return!1}function vn(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let a=i.querySelector(t);return a?[a]:[]}var Be=(()=>{class i{validateStyleProperty(e){return Ii(e)}containsElement(e,a){return gn(e,a)}getParentElement(e){return je(e)}query(e,a,n){return vn(e,a,n)}computeStyle(e,a,n){return n||""}animate(e,a,n,o,r,s=[],l){return new _t(n,o)}static \u0275fac=function(a){return new(a||i)};static \u0275prov=yt({token:i,factory:i.\u0275fac})}return i})(),ft=class{static NOOP=new Be},ht=class{};var Fi=1e3,yn="{{",zi="}}",_n="ng-enter",Se="ng-leave",Ut="ng-trigger",Xt=".ng-trigger",on="ng-animating",Ee=".ng-animating";function J(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:xe(parseFloat(t[1]),t[2])}function xe(i,t){switch(t){case"s":return i*Fi;default:return i}}function Jt(i,t,e){return i.hasOwnProperty("duration")?i:Li(i,t,e)}function Li(i,t,e){let a=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,o=0,r="";if(typeof i=="string"){let s=i.match(a);if(s===null)return t.push(en(i)),{duration:0,delay:0,easing:""};n=xe(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(o=xe(parseFloat(l),s[4]));let c=s[5];c&&(r=c)}else n=i;if(!e){let s=!1,l=t.length;n<0&&(t.push(ti()),s=!0),o<0&&(t.push(ei()),s=!0),s&&t.splice(l,0,en(i))}return{duration:n,delay:o,easing:r}}function Oi(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function Y(i,t,e){t.forEach((a,n)=>{let o=Ve(n);e&&!e.has(n)&&e.set(n,i.style[o]),i.style[o]=a})}function bt(i,t){t.forEach((e,a)=>{let n=Ve(a);i.style[n]=""})}function Mt(i){return Array.isArray(i)?i.length==1?i[0]:Ma(i):i}function ji(i,t,e){let a=t.params||{},n=wn(i);n.length&&n.forEach(o=>{a.hasOwnProperty(o)||e.push(ai(o))})}var Te=new RegExp(`${yn}\\s*(.+?)\\s*${zi}`,"g");function wn(i){let t=[];if(typeof i=="string"){let e;for(;e=Te.exec(i);)t.push(e[1]);Te.lastIndex=0}return t}function Pt(i,t,e){let a=`${i}`,n=a.replace(Te,(o,r)=>{let s=t[r];return s==null&&(e.push(ni(r)),s=""),s.toString()});return n==a?i:n}var Bi=/-+([a-z0-9])/g;function Ve(i){return i.replace(Bi,(...t)=>t[1].toUpperCase())}function Vi(i,t){return i===0||t===0}function Ki(i,t,e){if(e.size&&t.length){let a=t[0],n=[];if(e.forEach((o,r)=>{a.has(r)||n.push(r),a.set(r,o)}),n.length)for(let o=1;o<t.length;o++){let r=t[o];n.forEach(s=>r.set(s,Ke(i,s)))}}return t}function j(i,t,e){switch(t.type){case y.Trigger:return i.visitTrigger(t,e);case y.State:return i.visitState(t,e);case y.Transition:return i.visitTransition(t,e);case y.Sequence:return i.visitSequence(t,e);case y.Group:return i.visitGroup(t,e);case y.Animate:return i.visitAnimate(t,e);case y.Keyframes:return i.visitKeyframes(t,e);case y.Style:return i.visitStyle(t,e);case y.Reference:return i.visitReference(t,e);case y.AnimateChild:return i.visitAnimateChild(t,e);case y.AnimateRef:return i.visitAnimateRef(t,e);case y.Query:return i.visitQuery(t,e);case y.Stagger:return i.visitStagger(t,e);default:throw ii(t.type)}}function Ke(i,t){return window.getComputedStyle(i)[t]}var qi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),te=class extends ht{normalizePropertyName(t,e){return Ve(t)}normalizeStyleValue(t,e,a,n){let o="",r=a.toString().trim();if(qi.has(e)&&a!==0&&a!=="0")if(typeof a=="number")o="px";else{let s=a.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&n.push(oi(t,a))}return r+o}};var ee="*";function Qi(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(a=>Hi(a,e,t)):e.push(i),e}function Hi(i,t,e){if(i[0]==":"){let l=$i(i,e);if(typeof l=="function"){t.push(l);return}i=l}let a=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(a==null||a.length<4)return e.push(gi(i)),t;let n=a[1],o=a[2],r=a[3];t.push(rn(n,r));let s=n==ee&&r==ee;o[0]=="<"&&!s&&t.push(rn(r,n))}function $i(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,a)=>parseFloat(a)>parseFloat(e);case":decrement":return(e,a)=>parseFloat(a)<parseFloat(e);default:return t.push(vi(i)),"* => *"}}var Wt=new Set(["true","1"]),Gt=new Set(["false","0"]);function rn(i,t){let e=Wt.has(i)||Gt.has(i),a=Wt.has(t)||Gt.has(t);return(n,o)=>{let r=i==ee||i==n,s=t==ee||t==o;return!r&&e&&typeof n=="boolean"&&(r=n?Wt.has(i):Gt.has(i)),!s&&a&&typeof o=="boolean"&&(s=o?Wt.has(t):Gt.has(t)),r&&s}}var Sn=":self",Ui=new RegExp(`s*${Sn}s*,?`,"g");function En(i,t,e,a){return new ke(i).build(t,e,a)}var sn="",ke=class{_driver;constructor(t){this._driver=t}build(t,e,a){let n=new Ae(e);return this._resetContextStyleTimingState(n),j(this,Mt(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=sn,t.collectedStyles=new Map,t.collectedStyles.set(sn,new Map),t.currentTime=0}visitTrigger(t,e){let a=e.queryCount=0,n=e.depCount=0,o=[],r=[];return t.name.charAt(0)=="@"&&e.errors.push(ri()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==y.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(m=>{l.name=m,o.push(this.visitState(l,e))}),l.name=c}else if(s.type==y.Transition){let l=this.visitTransition(s,e);a+=l.queryCount,n+=l.depCount,r.push(l)}else e.errors.push(si())}),{type:y.Trigger,name:t.name,states:o,transitions:r,queryCount:a,depCount:n,options:null}}visitState(t,e){let a=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(a.containsDynamicStyles){let o=new Set,r=n||{};a.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{wn(l).forEach(c=>{r.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(li(t.name,[...o.values()]))}return{type:y.State,name:t.name,style:a,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let a=j(this,Mt(t.animation),e),n=Qi(t.expr,e.errors);return{type:y.Transition,matchers:n,animation:a,queryCount:e.queryCount,depCount:e.depCount,options:pt(t.options)}}visitSequence(t,e){return{type:y.Sequence,steps:t.steps.map(a=>j(this,a,e)),options:pt(t.options)}}visitGroup(t,e){let a=e.currentTime,n=0,o=t.steps.map(r=>{e.currentTime=a;let s=j(this,r,e);return n=Math.max(n,e.currentTime),s});return e.currentTime=n,{type:y.Group,steps:o,options:pt(t.options)}}visitAnimate(t,e){let a=Zi(t.timings,e.errors);e.currentAnimateTimings=a;let n,o=t.styles?t.styles:ue({});if(o.type==y.Keyframes)n=this.visitKeyframes(o,e);else{let r=t.styles,s=!1;if(!r){s=!0;let c={};a.easing&&(c.easing=a.easing),r=ue(c)}e.currentTime+=a.duration+a.delay;let l=this.visitStyle(r,e);l.isEmptyStep=s,n=l}return e.currentAnimateTimings=null,{type:y.Animate,timings:a,style:n,options:null}}visitStyle(t,e){let a=this._makeStyleAst(t,e);return this._validateStyleAst(a,e),a}_makeStyleAst(t,e){let a=[],n=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of n)typeof s=="string"?s===G?a.push(s):e.errors.push(ci(s)):a.push(new Map(Object.entries(s)));let o=!1,r=null;return a.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(r=s.get("easing"),s.delete("easing")),!o)){for(let l of s.values())if(l.toString().indexOf(yn)>=0){o=!0;break}}}),{type:y.Style,styles:a,easing:r,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let a=e.currentAnimateTimings,n=e.currentTime,o=e.currentTime;a&&o>0&&(o-=a.duration+a.delay),t.styles.forEach(r=>{typeof r!="string"&&r.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),m=c.get(l),d=!0;m&&(o!=n&&o>=m.startTime&&n<=m.endTime&&(e.errors.push(di(l,m.startTime,m.endTime,o,n)),d=!1),o=m.startTime),d&&c.set(l,{startTime:o,endTime:n}),e.options&&ji(s,e.options,e.errors)})})}visitKeyframes(t,e){let a={type:y.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(mi()),a;let n=1,o=0,r=[],s=!1,l=!1,c=0,m=t.steps.map(k=>{let M=this._makeStyleAst(k,e),F=M.offset!=null?M.offset:Yi(M.styles),D=0;return F!=null&&(o++,D=M.offset=F),l=l||D<0||D>1,s=s||D<c,c=D,r.push(D),M});l&&e.errors.push(ui()),s&&e.errors.push(pi());let d=t.steps.length,v=0;o>0&&o<d?e.errors.push(bi()):o==0&&(v=n/(d-1));let g=d-1,p=e.currentTime,h=e.currentAnimateTimings,S=h.duration;return m.forEach((k,M)=>{let F=v>0?M==g?1:v*M:r[M],D=F*S;e.currentTime=p+h.delay+D,h.duration=D,this._validateStyleAst(k,e),k.offset=F,a.styles.push(k)}),a}visitReference(t,e){return{type:y.Reference,animation:j(this,Mt(t.animation),e),options:pt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:y.AnimateChild,options:pt(t.options)}}visitAnimateRef(t,e){return{type:y.AnimateRef,animation:this.visitReference(t.animation,e),options:pt(t.options)}}visitQuery(t,e){let a=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;let[o,r]=Wi(t.selector);e.currentQuerySelector=a.length?a+" "+o:o,B(e.collectedStyles,e.currentQuerySelector,new Map);let s=j(this,Mt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=a,{type:y.Query,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:r,animation:s,originalSelector:t.selector,options:pt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(fi());let a=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Jt(t.timings,e.errors,!0);return{type:y.Stagger,animation:j(this,Mt(t.animation),e),timings:a,options:null}}};function Wi(i){let t=!!i.split(/\s*,\s*/).find(e=>e==Sn);return t&&(i=i.replace(Ui,"")),i=i.replace(/@\*/g,Xt).replace(/@\w+/g,e=>Xt+"-"+e.slice(1)).replace(/:animating/g,Ee),[i,t]}function Gi(i){return i?Ft({},i):null}var Ae=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Yi(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let a=e;t=parseFloat(a.get("offset")),a.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Zi(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=Jt(i,t).duration;return ge(o,0,"")}let e=i;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ge(0,0,"");return o.dynamic=!0,o.strValue=e,o}let n=Jt(e,t);return ge(n.duration,n.delay,n.easing)}function pt(i){return i?(i=Ft({},i),i.params&&(i.params=Gi(i.params))):i={},i}function ge(i,t,e){return{duration:i,delay:t,easing:e}}function qe(i,t,e,a,n,o,r=null,s=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:a,duration:n,delay:o,totalTime:n+o,easing:r,subTimeline:s}}var Dt=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let a=this._map.get(t);a||this._map.set(t,a=[]),a.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Xi=1,Ji=":enter",to=new RegExp(Ji,"g"),eo=":leave",ao=new RegExp(eo,"g");function xn(i,t,e,a,n,o=new Map,r=new Map,s,l,c=[]){return new Me().buildKeyframes(i,t,e,a,n,o,r,s,l,c)}var Me=class{buildKeyframes(t,e,a,n,o,r,s,l,c,m=[]){c=c||new Dt;let d=new Ce(t,e,c,n,o,m,[]);d.options=l;let v=l.delay?J(l.delay):0;d.currentTimeline.delayNextStep(v),d.currentTimeline.setStyles([r],null,d.errors,l),j(this,a,d);let g=d.timelines.filter(p=>p.containsAnimation());if(g.length&&s.size){let p;for(let h=g.length-1;h>=0;h--){let S=g[h];if(S.element===e){p=S;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([s],null,d.errors,l)}return g.length?g.map(p=>p.buildKeyframes()):[qe(e,[],[],[],0,v,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let a=e.subInstructions.get(e.element);if(a){let n=e.createSubContext(t.options),o=e.currentTimeline.currentTime,r=this._visitSubInstructions(a,n,n.options);o!=r&&e.transformIntoNewTimeline(r)}e.previousNode=t}visitAnimateRef(t,e){let a=e.createSubContext(t.options);a.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,a),this.visitReference(t.animation,a),e.transformIntoNewTimeline(a.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,a){for(let n of t){let o=n?.delay;if(o){let r=typeof o=="number"?o:J(Pt(o,n?.params??{},e.errors));a.delayNextStep(r)}}}_visitSubInstructions(t,e,a){let o=e.currentTimeline.currentTime,r=a.duration!=null?J(a.duration):null,s=a.delay!=null?J(a.delay):null;return r!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,r,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),j(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let a=e.subContextCount,n=e,o=t.options;if(o&&(o.params||o.delay)&&(n=e.createSubContext(o),n.transformIntoNewTimeline(),o.delay!=null)){n.previousNode.type==y.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=ae);let r=J(o.delay);n.delayNextStep(r)}t.steps.length&&(t.steps.forEach(r=>j(this,r,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>a&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let a=[],n=e.currentTimeline.currentTime,o=t.options&&t.options.delay?J(t.options.delay):0;t.steps.forEach(r=>{let s=e.createSubContext(t.options);o&&s.delayNextStep(o),j(this,r,s),n=Math.max(n,s.currentTimeline.currentTime),a.push(s.currentTimeline)}),a.forEach(r=>e.currentTimeline.mergeTimelineCollectedStyles(r)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let a=t.strValue,n=e.params?Pt(a,e.params,e.errors):a;return Jt(n,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let a=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;a.delay&&(e.incrementTime(a.delay),n.snapshotCurrentStyles());let o=t.style;o.type==y.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(a.duration),this.visitStyle(o,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let a=e.currentTimeline,n=e.currentAnimateTimings;!n&&a.hasCurrentStyleProperties()&&a.forwardFrame();let o=n&&n.easing||t.easing;t.isEmptyStep?a.applyEmptyStep(o):a.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let a=e.currentAnimateTimings,n=e.currentTimeline.duration,o=a.duration,s=e.createSubContext().currentTimeline;s.easing=a.easing,t.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(n+o),e.previousNode=t}visitQuery(t,e){let a=e.currentTimeline.currentTime,n=t.options||{},o=n.delay?J(n.delay):0;o&&(e.previousNode.type===y.Style||a==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ae);let r=a,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,m)=>{e.currentQueryIndex=m;let d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),j(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let v=d.currentTimeline.currentTime;r=Math.max(r,v)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let a=e.parentContext,n=e.currentTimeline,o=t.timings,r=Math.abs(o.duration),s=r*(e.currentQueryTotal-1),l=r*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=a.currentStaggerTime;break}let m=e.currentTimeline;l&&m.delayNextStep(l);let d=m.currentTime;j(this,t.animation,e),e.previousNode=t,a.currentStaggerTime=n.currentTime-d+(n.startTime-a.currentTimeline.startTime)}},ae={},Ce=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ae;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,a,n,o,r,s,l){this._driver=t,this.element=e,this.subInstructions=a,this._enterClassName=n,this._leaveClassName=o,this.errors=r,this.timelines=s,this.currentTimeline=l||new ne(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let a=t,n=this.options;a.duration!=null&&(n.duration=J(a.duration)),a.delay!=null&&(n.delay=J(a.delay));let o=a.params;if(o){let r=n.params;r||(r=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!r.hasOwnProperty(s))&&(r[s]=Pt(o[s],r,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let a=t.params={};Object.keys(e).forEach(n=>{a[n]=e[n]})}}return t}createSubContext(t=null,e,a){let n=e||this.element,o=new i(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,a||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=ae,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,a){let n={duration:e??t.duration,delay:this.currentTimeline.currentTime+(a??0)+t.delay,easing:""},o=new Pe(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(o),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,a,n,o,r){let s=[];if(n&&s.push(this.element),t.length>0){t=t.replace(to,"."+this._enterClassName),t=t.replace(ao,"."+this._leaveClassName);let l=a!=1,c=this._driver.query(this.element,t,l);a!==0&&(c=a<0?c.slice(c.length+a,c.length):c.slice(0,a)),s.push(...c)}return!o&&s.length==0&&r.push(hi(e)),s}},ne=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,a,n){this._driver=t,this.element=e,this.startTime=a,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Xi,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,a]of this._globalTimelineStyles)this._backFill.set(e,a||G),this._currentKeyframe.set(e,G);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,a,n){e&&this._previousKeyframe.set("easing",e);let o=n&&n.params||{},r=no(t,this._globalTimelineStyles);for(let[s,l]of r){let c=Pt(l,o,a);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??G),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,a)=>{let n=this._styleSummary.get(a);(!n||e.time>n.time)&&this._updateStyle(a,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,a=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((m,d)=>{m===qt?t.add(d):m===G&&e.add(d)}),a||c.set("offset",l/this.duration),n.push(c)});let o=[...t.values()],r=[...e.values()];if(a){let s=n[0],l=new Map(s);s.set("offset",0),l.set("offset",1),n=[s,l]}return qe(this.element,n,o,r,this.duration,this.startTime,this.easing,!1)}},Pe=class extends ne{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,a,n,o,r,s=!1){super(t,e,r.delay),this.keyframes=a,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:a,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],r=a+e,s=e/r,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",ln(s)),o.push(c);let m=t.length-1;for(let d=1;d<=m;d++){let v=new Map(t[d]),g=v.get("offset"),p=e+g*a;v.set("offset",ln(p/r)),o.push(v)}a=r,e=0,n="",t=o}return qe(this.element,t,this.preStyleProps,this.postStyleProps,a,e,n,!0)}};function ln(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function no(i,t){let e=new Map,a;return i.forEach(n=>{if(n==="*"){a??=t.keys();for(let o of a)e.set(o,G)}else for(let[o,r]of n)e.set(o,r)}),e}function cn(i,t,e,a,n,o,r,s,l,c,m,d,v){return{type:0,element:i,triggerName:t,isRemovalTransition:n,fromState:e,fromStyles:o,toState:a,toStyles:r,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:m,totalTime:d,errors:v}}var ve={},ie=class{_triggerName;ast;_stateStyles;constructor(t,e,a){this._triggerName=t,this.ast=e,this._stateStyles=a}match(t,e,a,n){return io(this.ast.matchers,t,e,a,n)}buildStyles(t,e,a){let n=this._stateStyles.get("*");return t!==void 0&&(n=this._stateStyles.get(t?.toString())||n),n?n.buildStyles(e,a):new Map}build(t,e,a,n,o,r,s,l,c,m){let d=[],v=this.ast.options&&this.ast.options.params||ve,g=s&&s.params||ve,p=this.buildStyles(a,g,d),h=l&&l.params||ve,S=this.buildStyles(n,h,d),k=new Set,M=new Map,F=new Map,D=n==="void",gt={params:Tn(h,v),delay:this.ast.options?.delay},H=m?[]:xn(t,e,this.ast.animation,o,r,p,S,gt,c,d),z=0;return H.forEach(L=>{z=Math.max(L.duration+L.delay,z)}),d.length?cn(e,this._triggerName,a,n,D,p,S,[],[],M,F,z,d):(H.forEach(L=>{let ot=L.element,vt=B(M,ot,new Set);L.preStyleProps.forEach(rt=>vt.add(rt));let Qe=B(F,ot,new Set);L.postStyleProps.forEach(rt=>Qe.add(rt)),ot!==e&&k.add(ot)}),cn(e,this._triggerName,a,n,D,p,S,H,[...k.values()],M,F,z))}};function io(i,t,e,a,n){return i.some(o=>o(t,e,a,n))}function Tn(i,t){let e=Ft({},t);return Object.entries(i).forEach(([a,n])=>{n!=null&&(e[a]=n)}),e}var De=class{styles;defaultParams;normalizer;constructor(t,e,a){this.styles=t,this.defaultParams=e,this.normalizer=a}buildStyles(t,e){let a=new Map,n=Tn(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((r,s)=>{r&&(r=Pt(r,n,e));let l=this.normalizer.normalizePropertyName(s,e);r=this.normalizer.normalizeStyleValue(s,l,r,e),a.set(s,r)})}),a}};function oo(i,t,e){return new Ne(i,t,e)}var Ne=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,a){this.name=t,this.ast=e,this._normalizer=a,e.states.forEach(n=>{let o=n.options&&n.options.params||{};this.states.set(n.name,new De(n.style,o,a))}),dn(this.states,"true","1"),dn(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new ie(t,n,this.states))}),this.fallbackTransition=ro(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,a,n){return this.transitionFactories.find(r=>r.match(t,e,a,n))||null}matchStyles(t,e,a){return this.fallbackTransition.buildStyles(t,e,a)}};function ro(i,t,e){let a=[(r,s)=>!0],n={type:y.Sequence,steps:[],options:null},o={type:y.Transition,animation:n,matchers:a,options:null,queryCount:0,depCount:0};return new ie(i,o,t)}function dn(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var so=new Dt,Ie=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,a){this.bodyNode=t,this._driver=e,this._normalizer=a}register(t,e){let a=[],n=[],o=En(this._driver,e,a,n);if(a.length)throw wi(a);this._animations.set(t,o)}_buildPlayer(t,e,a){let n=t.element,o=hn(this._normalizer,t.keyframes,e,a);return this._driver.animate(n,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,a={}){let n=[],o=this._animations.get(t),r,s=new Map;if(o?(r=xn(this._driver,e,o,_n,Se,new Map,new Map,a,so,n),r.forEach(m=>{let d=B(s,m.element,new Map);m.postStyleProps.forEach(v=>d.set(v,null))})):(n.push(Si()),r=[]),n.length)throw Ei(n);s.forEach((m,d)=>{m.forEach((v,g)=>{m.set(g,this._driver.computeStyle(d,g,G))})});let l=r.map(m=>{let d=s.get(m.element);return this._buildPlayer(m,new Map,d)}),c=it(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let a=this.players.indexOf(e);a>=0&&this.players.splice(a,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw xi(t);return e}listen(t,e,a,n){let o=Oe(e,"","","");return Le(this._getPlayer(t),a,o,n),()=>{}}command(t,e,a,n){if(a=="register"){this.register(t,n[0]);return}if(a=="create"){let r=n[0]||{};this.create(t,e,r);return}let o=this._getPlayer(t);switch(a){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t);break}}},mn="ng-animate-queued",lo=".ng-animate-queued",ye="ng-animate-disabled",co=".ng-animate-disabled",mo="ng-star-inserted",uo=".ng-star-inserted",po=[],kn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Q="__ng_removed",Nt=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let a=t&&t.hasOwnProperty("value"),n=a?t.value:t;if(this.value=ho(n),a){let o=t,{value:r}=o,s=We(o,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let a=this.options.params;Object.keys(e).forEach(n=>{a[n]==null&&(a[n]=e[n])})}}},Ct="void",_e=new Nt(Ct),Re=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,a){this.id=t,this.hostElement=e,this._engine=a,this._hostClassName="ng-tns-"+t,K(e,this._hostClassName)}listen(t,e,a,n){if(!this._triggers.has(e))throw Ti(a,e);if(a==null||a.length==0)throw ki(e);if(!go(a))throw Ai(a,e);let o=B(this._elementListeners,t,[]),r={name:e,phase:a,callback:n};o.push(r);let s=B(this._engine.statesByElement,t,new Map);return s.has(e)||(K(t,Ut),K(t,Ut+"-"+e),s.set(e,_e)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(r);l>=0&&o.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw Mi(t);return e}trigger(t,e,a,n=!0){let o=this._getTrigger(e),r=new It(this.id,e,t),s=this._engine.statesByElement.get(t);s||(K(t,Ut),K(t,Ut+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e),c=new Nt(a,this.id);if(!(a&&a.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=_e),!(c.value===Ct)&&l.value===c.value){if(!_o(l.params,c.params)){let h=[],S=o.matchStyles(l.value,l.params,h),k=o.matchStyles(c.value,c.params,h);h.length?this._engine.reportError(h):this._engine.afterFlush(()=>{bt(t,S),Y(t,k)})}return}let v=B(this._engine.playersByElement,t,[]);v.forEach(h=>{h.namespaceId==this.id&&h.triggerName==e&&h.queued&&h.destroy()});let g=o.matchTransition(l.value,c.value,t,c.params),p=!1;if(!g){if(!n)return;g=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:c,player:r,isFallbackTransition:p}),p||(K(t,mn),r.onStart(()=>{wt(t,mn)})),r.onDone(()=>{let h=this.players.indexOf(r);h>=0&&this.players.splice(h,1);let S=this._engine.playersByElement.get(t);if(S){let k=S.indexOf(r);k>=0&&S.splice(k,1)}}),this.players.push(r),v.push(r),r}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,a)=>{this._elementListeners.set(a,e.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(a=>a.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let a=this._engine.driver.query(t,Xt,!0);a.forEach(n=>{if(n[Q])return;let o=this._engine.fetchNamespacesByElement(n);o.size?o.forEach(r=>r.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>a.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,e,a,n){let o=this._engine.statesByElement.get(t),r=new Map;if(o){let s=[];if(o.forEach((l,c)=>{if(r.set(c,l.value),this._triggers.has(c)){let m=this.trigger(t,c,Ct,n);m&&s.push(m)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,r),a&&it(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),a=this._engine.statesByElement.get(t);if(e&&a){let n=new Set;e.forEach(o=>{let r=o.name;if(n.has(r))return;n.add(r);let l=this._triggers.get(r).fallbackTransition,c=a.get(r)||_e,m=new Nt(Ct),d=new It(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:l,fromState:c,toState:m,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let a=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(a.totalAnimations){let o=a.players.length?a.playersByQueriedElement.get(t):[];if(o&&o.length)n=!0;else{let r=t;for(;r=r.parentNode;)if(a.statesByElement.get(r)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)a.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Q];(!o||o===kn)&&(a.afterFlush(()=>this.clearElementCache(t)),a.destroyInnerAnimations(t),a._onRemovalComplete(t,e))}}insertNode(t,e){K(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(a=>{let n=a.player;if(n.destroyed)return;let o=a.element,r=this._elementListeners.get(o);r&&r.forEach(s=>{if(s.name==a.triggerName){let l=Oe(o,a.triggerName,a.fromState.value,a.toState.value);l._data=t,Le(a.player,s.phase,l,s.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(a)}),this._queue=[],e.sort((a,n)=>{let o=a.transition.ast.depCount,r=n.transition.ast.depCount;return o==0||r==0?o-r:this._engine.driver.containsElement(a.element,n.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Fe=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,a){this.bodyNode=t,this.driver=e,this._normalizer=a}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(a=>{a.queued&&t.push(a)})}),t}createNamespace(t,e){let a=new Re(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(a,e):(this.newHostElements.set(e,a),this.collectEnterElement(e)),this._namespaceLookup[t]=a}_balanceNamespaceList(t,e){let a=this._namespaceList,n=this.namespacesByHostElement;if(a.length-1>=0){let r=!1,s=this.driver.getParentElement(e);for(;s;){let l=n.get(s);if(l){let c=a.indexOf(l);a.splice(c+1,0,t),r=!0;break}s=this.driver.getParentElement(s)}r||a.unshift(t)}else a.push(t);return n.set(e,t),t}register(t,e){let a=this._namespaceLookup[t];return a||(a=this.createNamespace(t,e)),a}registerTrigger(t,e,a){let n=this._namespaceLookup[t];n&&n.register(e,a)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let a=this._fetchNamespace(t);this.namespacesByHostElement.delete(a.hostElement);let n=this._namespaceList.indexOf(a);n>=0&&this._namespaceList.splice(n,1),a.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,a=this.statesByElement.get(t);if(a){for(let n of a.values())if(n.namespaceId){let o=this._fetchNamespace(n.namespaceId);o&&e.add(o)}}return e}trigger(t,e,a,n){if(Yt(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,a,n),!0}return!1}insertNode(t,e,a,n){if(!Yt(e))return;let o=e[Q];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let r=this.collectedLeaveElements.indexOf(e);r>=0&&this.collectedLeaveElements.splice(r,1)}if(t){let r=this._fetchNamespace(t);r&&r.insertNode(e,a)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),K(t,ye)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),wt(t,ye))}removeNode(t,e,a){if(Yt(e)){let n=t?this._fetchNamespace(t):null;n?n.removeNode(e,a):this.markElementAsRemoved(t,e,!1,a);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,a)}else this._onRemovalComplete(e,a)}markElementAsRemoved(t,e,a,n,o){this.collectedLeaveElements.push(e),e[Q]={namespaceId:t,setForRemoval:n,hasAnimation:a,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,a,n,o){return Yt(e)?this._fetchNamespace(t).listen(e,a,n,o):()=>{}}_buildInstruction(t,e,a,n,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,a,n,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Xt,!0);e.forEach(a=>this.destroyActiveAnimationsForElement(a)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Ee,!0),e.forEach(a=>this.finishActiveQueriedAnimationOnElement(a)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(a=>{a.queued?a.markedForDestroy=!0:a.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(a=>a.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return it(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Q];if(e&&e.setForRemoval){if(t[Q]=kn,e.namespaceId){this.destroyInnerAnimations(t);let a=this._fetchNamespace(e.namespaceId);a&&a.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ye)&&this.markElementAsDisabled(t,!1),this.driver.query(t,co,!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((a,n)=>this._balanceNamespaceList(a,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let a=0;a<this.collectedEnterElements.length;a++){let n=this.collectedEnterElements[a];K(n,mo)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let a=[];try{e=this._flushAnimations(a,t)}finally{for(let n=0;n<a.length;n++)a[n]()}}else for(let a=0;a<this.collectedLeaveElements.length;a++){let n=this.collectedLeaveElements[a];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(a=>a()),this._flushFns=[],this._whenQuietFns.length){let a=this._whenQuietFns;this._whenQuietFns=[],e.length?it(e).onDone(()=>{a.forEach(n=>n())}):a.forEach(n=>n())}}reportError(t){throw Ci(t)}_flushAnimations(t,e){let a=new Dt,n=[],o=new Map,r=[],s=new Map,l=new Map,c=new Map,m=new Set;this.disabledNodes.forEach(u=>{m.add(u);let b=this.driver.query(u,lo,!0);for(let f=0;f<b.length;f++)m.add(b[f])});let d=this.bodyNode,v=Array.from(this.statesByElement.keys()),g=bn(v,this.collectedEnterElements),p=new Map,h=0;g.forEach((u,b)=>{let f=_n+h++;p.set(b,f),u.forEach(_=>K(_,f))});let S=[],k=new Set,M=new Set;for(let u=0;u<this.collectedLeaveElements.length;u++){let b=this.collectedLeaveElements[u],f=b[Q];f&&f.setForRemoval&&(S.push(b),k.add(b),f.hasAnimation?this.driver.query(b,uo,!0).forEach(_=>k.add(_)):M.add(b))}let F=new Map,D=bn(v,Array.from(k));D.forEach((u,b)=>{let f=Se+h++;F.set(b,f),u.forEach(_=>K(_,f))}),t.push(()=>{g.forEach((u,b)=>{let f=p.get(b);u.forEach(_=>wt(_,f))}),D.forEach((u,b)=>{let f=F.get(b);u.forEach(_=>wt(_,f))}),S.forEach(u=>{this.processLeaveNode(u)})});let gt=[],H=[];for(let u=this._namespaceList.length-1;u>=0;u--)this._namespaceList[u].drainQueuedTransitions(e).forEach(f=>{let _=f.player,C=f.element;if(gt.push(_),this.collectedEnterElements.length){let I=C[Q];if(I&&I.setForMove){if(I.previousTriggersValues&&I.previousTriggersValues.has(f.triggerName)){let st=I.previousTriggersValues.get(f.triggerName),V=this.statesByElement.get(f.element);if(V&&V.has(f.triggerName)){let Rt=V.get(f.triggerName);Rt.value=st,V.set(f.triggerName,Rt)}}_.destroy();return}}let $=!d||!this.driver.containsElement(d,C),O=F.get(C),tt=p.get(C),E=this._buildInstruction(f,a,tt,O,$);if(E.errors&&E.errors.length){H.push(E);return}if($){_.onStart(()=>bt(C,E.fromStyles)),_.onDestroy(()=>Y(C,E.toStyles)),n.push(_);return}if(f.isFallbackTransition){_.onStart(()=>bt(C,E.fromStyles)),_.onDestroy(()=>Y(C,E.toStyles)),n.push(_);return}let Ue=[];E.timelines.forEach(I=>{I.stretchStartingKeyframe=!0,this.disabledNodes.has(I.element)||Ue.push(I)}),E.timelines=Ue,a.append(C,E.timelines);let In={instruction:E,player:_,element:C};r.push(In),E.queriedElements.forEach(I=>B(s,I,[]).push(_)),E.preStyleProps.forEach((I,st)=>{if(I.size){let V=l.get(st);V||l.set(st,V=new Set),I.forEach((Rt,de)=>V.add(de))}}),E.postStyleProps.forEach((I,st)=>{let V=c.get(st);V||c.set(st,V=new Set),I.forEach((Rt,de)=>V.add(de))})});if(H.length){let u=[];H.forEach(b=>{u.push(Pi(b.triggerName,b.errors))}),gt.forEach(b=>b.destroy()),this.reportError(u)}let z=new Map,L=new Map;r.forEach(u=>{let b=u.element;a.has(b)&&(L.set(b,b),this._beforeAnimationBuild(u.player.namespaceId,u.instruction,z))}),n.forEach(u=>{let b=u.element;this._getPreviousPlayers(b,!1,u.namespaceId,u.triggerName,null).forEach(_=>{B(z,b,[]).push(_),_.destroy()})});let ot=S.filter(u=>fn(u,l,c)),vt=new Map;pn(vt,this.driver,M,c,G).forEach(u=>{fn(u,l,c)&&ot.push(u)});let rt=new Map;g.forEach((u,b)=>{pn(rt,this.driver,new Set(u),l,qt)}),ot.forEach(u=>{let b=vt.get(u),f=rt.get(u);vt.set(u,new Map([...b?.entries()??[],...f?.entries()??[]]))});let ce=[],He=[],$e={};r.forEach(u=>{let{element:b,player:f,instruction:_}=u;if(a.has(b)){if(m.has(b)){f.onDestroy(()=>Y(b,_.toStyles)),f.disabled=!0,f.overrideTotalTime(_.totalTime),n.push(f);return}let C=$e;if(L.size>1){let O=b,tt=[];for(;O=O.parentNode;){let E=L.get(O);if(E){C=E;break}tt.push(O)}tt.forEach(E=>L.set(E,C))}let $=this._buildAnimation(f.namespaceId,_,z,o,rt,vt);if(f.setRealPlayer($),C===$e)ce.push(f);else{let O=this.playersByElement.get(C);O&&O.length&&(f.parentPlayer=it(O)),n.push(f)}}else bt(b,_.fromStyles),f.onDestroy(()=>Y(b,_.toStyles)),He.push(f),m.has(b)&&n.push(f)}),He.forEach(u=>{let b=o.get(u.element);if(b&&b.length){let f=it(b);u.setRealPlayer(f)}}),n.forEach(u=>{u.parentPlayer?u.syncPlayerEvents(u.parentPlayer):u.destroy()});for(let u=0;u<S.length;u++){let b=S[u],f=b[Q];if(wt(b,Se),f&&f.hasAnimation)continue;let _=[];if(s.size){let $=s.get(b);$&&$.length&&_.push(...$);let O=this.driver.query(b,Ee,!0);for(let tt=0;tt<O.length;tt++){let E=s.get(O[tt]);E&&E.length&&_.push(...E)}}let C=_.filter($=>!$.destroyed);C.length?vo(this,b,C):this.processLeaveNode(b)}return S.length=0,ce.forEach(u=>{this.players.push(u),u.onDone(()=>{u.destroy();let b=this.players.indexOf(u);this.players.splice(b,1)}),u.play()}),ce}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,a,n,o){let r=[];if(e){let s=this.playersByQueriedElement.get(t);s&&(r=s)}else{let s=this.playersByElement.get(t);if(s){let l=!o||o==Ct;s.forEach(c=>{c.queued||!l&&c.triggerName!=n||r.push(c)})}}return(a||n)&&(r=r.filter(s=>!(a&&a!=s.namespaceId||n&&n!=s.triggerName))),r}_beforeAnimationBuild(t,e,a){let n=e.triggerName,o=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:n;for(let l of e.timelines){let c=l.element,m=c!==o,d=B(a,c,[]);this._getPreviousPlayers(c,m,r,s,e.toState).forEach(g=>{let p=g.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),g.destroy(),d.push(g)})}bt(o,e.fromStyles)}_buildAnimation(t,e,a,n,o,r){let s=e.triggerName,l=e.element,c=[],m=new Set,d=new Set,v=e.timelines.map(p=>{let h=p.element;m.add(h);let S=h[Q];if(S&&S.removedBeforeQueried)return new _t(p.duration,p.delay);let k=h!==l,M=yo((a.get(h)||po).map(z=>z.getRealPlayer())).filter(z=>{let L=z;return L.element?L.element===h:!1}),F=o.get(h),D=r.get(h),gt=hn(this._normalizer,p.keyframes,F,D),H=this._buildPlayer(p,gt,M);if(p.subTimeline&&n&&d.add(h),k){let z=new It(t,s,h);z.setRealPlayer(H),c.push(z)}return H});c.forEach(p=>{B(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>fo(this.playersByQueriedElement,p.element,p))}),m.forEach(p=>K(p,on));let g=it(v);return g.onDestroy(()=>{m.forEach(p=>wt(p,on)),Y(l,e.toStyles)}),d.forEach(p=>{B(n,p,[]).push(g)}),g}_buildPlayer(t,e,a){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,a):new _t(t.duration,t.delay)}},It=class{namespaceId;triggerName;element;_player=new _t;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,a){this.namespaceId=t,this.triggerName=e,this.element=a}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,a)=>{e.forEach(n=>Le(t,a,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){B(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function fo(i,t,e){let a=i.get(t);if(a){if(a.length){let n=a.indexOf(e);a.splice(n,1)}a.length==0&&i.delete(t)}return a}function ho(i){return i??null}function Yt(i){return i&&i.nodeType===1}function go(i){return i=="start"||i=="done"}function un(i,t){let e=i.style.display;return i.style.display=t??"none",e}function pn(i,t,e,a,n){let o=[];e.forEach(l=>o.push(un(l)));let r=[];a.forEach((l,c)=>{let m=new Map;l.forEach(d=>{let v=t.computeStyle(c,d,n);m.set(d,v),(!v||v.length==0)&&(c[Q]=bo,r.push(c))}),i.set(c,m)});let s=0;return e.forEach(l=>un(l,o[s++])),r}function bn(i,t){let e=new Map;if(i.forEach(s=>e.set(s,[])),t.length==0)return e;let a=1,n=new Set(t),o=new Map;function r(s){if(!s)return a;let l=o.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:n.has(c)?l=a:l=r(c),o.set(s,l),l}return t.forEach(s=>{let l=r(s);l!==a&&e.get(l).push(s)}),e}function K(i,t){i.classList?.add(t)}function wt(i,t){i.classList?.remove(t)}function vo(i,t,e){it(e).onDone(()=>i.processLeaveNode(t))}function yo(i){let t=[];return An(i,t),t}function An(i,t){for(let e=0;e<i.length;e++){let a=i[e];a instanceof pe?An(a.players,t):t.push(a)}}function _o(i,t){let e=Object.keys(i),a=Object.keys(t);if(e.length!=a.length)return!1;for(let n=0;n<e.length;n++){let o=e[n];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}function fn(i,t,e){let a=e.get(i);if(!a)return!1;let n=t.get(i);return n?a.forEach(o=>n.add(o)):t.set(i,a),e.delete(i),!0}var St=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,a){this._driver=e,this._normalizer=a,this._transitionEngine=new Fe(t.body,e,a),this._timelineEngine=new Ie(t.body,e,a),this._transitionEngine.onRemovalComplete=(n,o)=>this.onRemovalComplete(n,o)}registerTrigger(t,e,a,n,o){let r=t+"-"+n,s=this._triggerCache[r];if(!s){let l=[],c=[],m=En(this._driver,o,l,c);if(l.length)throw yi(n,l);s=oo(n,m,this._normalizer),this._triggerCache[r]=s}this._transitionEngine.registerTrigger(e,n,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,a,n){this._transitionEngine.insertNode(t,e,a,n)}onRemove(t,e,a){this._transitionEngine.removeNode(t,e,a)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,a,n){if(a.charAt(0)=="@"){let[o,r]=an(a),s=n;this._timelineEngine.command(o,e,r,s)}else this._transitionEngine.trigger(t,e,a,n)}listen(t,e,a,n,o){if(a.charAt(0)=="@"){let[r,s]=an(a);return this._timelineEngine.listen(r,e,s,o)}return this._transitionEngine.listen(t,e,a,n,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function wo(i,t){let e=null,a=null;return Array.isArray(t)&&t.length?(e=we(t[0]),t.length>1&&(a=we(t[t.length-1]))):t instanceof Map&&(e=we(t)),e||a?new So(i,e,a):null}var So=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,a,n){this._element=e,this._startStyles=a,this._endStyles=n;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Y(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Y(this._element,this._initialStyles),this._endStyles&&(Y(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(bt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bt(this._element,this._endStyles),this._endStyles=null),Y(this._element,this._initialStyles),this._state=3)}}return i})();function we(i){let t=null;return i.forEach((e,a)=>{Eo(a)&&(t=t||new Map,t.set(a,e))}),t}function Eo(i){return i==="display"||i==="position"}var oe=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,a,n){this.element=t,this.keyframes=e,this.options=a,this._specialStyles=n,this._duration=a.duration,this._delay=a.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(a=>{e.push(Object.fromEntries(a))}),e}_triggerWebAnimation(t,e,a){return t.animate(this._convertKeyframesToObject(e),a)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((a,n)=>{n!=="offset"&&t.set(n,this._finished?a:Ke(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(a=>a()),e.length=0}},re=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return gn(t,e)}getParentElement(t){return je(t)}query(t,e,a){return vn(t,e,a)}computeStyle(t,e,a){return Ke(t,e)}animate(t,e,a,n,o,r=[]){let s=n==0?"both":"forwards",l={duration:a,delay:n,fill:s};o&&(l.easing=o);let c=new Map,m=r.filter(g=>g instanceof oe);Vi(a,n)&&m.forEach(g=>{g.currentSnapshot.forEach((p,h)=>c.set(h,p))});let d=Oi(e).map(g=>new Map(g));d=Ki(t,d,c);let v=wo(t,d);return new oe(t,d,l,v)}};var Zt="@",Mn="@.disabled",se=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,a,n){this.namespaceId=t,this.delegate=e,this.engine=a,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,a,n=!0){this.delegate.insertBefore(t,e,a),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,a){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,a,n){this.delegate.setAttribute(t,e,a,n)}removeAttribute(t,e,a){this.delegate.removeAttribute(t,e,a)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,a,n){this.delegate.setStyle(t,e,a,n)}removeStyle(t,e,a){this.delegate.removeStyle(t,e,a)}setProperty(t,e,a){e.charAt(0)==Zt&&e==Mn?this.disableAnimations(t,!!a):this.delegate.setProperty(t,e,a)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,a,n){return this.delegate.listen(t,e,a,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},ze=class extends se{factory;constructor(t,e,a,n,o){super(e,a,n,o),this.factory=t,this.namespaceId=e}setProperty(t,e,a){e.charAt(0)==Zt?e.charAt(1)=="."&&e==Mn?(a=a===void 0?!0:!!a,this.disableAnimations(t,a)):this.engine.process(this.namespaceId,t,e.slice(1),a):this.delegate.setProperty(t,e,a)}listen(t,e,a,n){if(e.charAt(0)==Zt){let o=xo(t),r=e.slice(1),s="";return r.charAt(0)!=Zt&&([r,s]=To(r)),this.engine.listen(this.namespaceId,o,r,s,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,a,l)})}return this.delegate.listen(t,e,a,n)}};function xo(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function To(i){let t=i.indexOf("."),e=i.substring(0,t),a=i.slice(t+1);return[e,a]}var le=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,a){this.delegate=t,this.engine=e,this._zone=a,e.onRemovalComplete=(n,o)=>{o?.removeChild(null,n)}}createRenderer(t,e){let a="",n=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,m=c.get(n);if(!m){let d=()=>c.delete(n);m=new se(a,n,this.engine,d),c.set(n,m)}return m}let o=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(o,r,t,c.name,c)};return e.data.animation.forEach(s),new ze(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,a){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(a));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(o=>{let[r,s]=o;r(s)}),this._animationCallbacksBuffer=[]})}),n.push([e,a])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var Ao=(()=>{class i extends St{constructor(e,a,n){super(e,a,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(a){return new(a||i)(zt(fa),zt(ft),zt(ht))};static \u0275prov=yt({token:i,factory:i.\u0275fac})}return i})();function Mo(){return new te}function Co(i,t,e){return new le(i,t,e)}var Pn=[{provide:ht,useFactory:Mo},{provide:St,useClass:Ao},{provide:na,useFactory:Co,deps:[_a,St,Lt]}],Cn=[{provide:ft,useFactory:()=>new re},{provide:Et,useValue:"BrowserAnimations"},...Pn],Po=[{provide:ft,useClass:Be},{provide:Et,useValue:"NoopAnimations"},...Pn],Dn=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?Po:Cn}}static \u0275fac=function(a){return new(a||i)};static \u0275mod=W({type:i});static \u0275inj=U({providers:Cn,imports:[Bt]})}return i})();var Nn=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=W({type:t,bootstrap:[Ja]}),t.\u0275inj=U({providers:[{provide:Va,useValue:{position:"above"}},va(ya())],imports:[Bt,$a,tn,Dn,$t,qa.forRoot({sanitize:ta.HTML})]});let i=t;return i})();Qt.production&&void 0;wa().bootstrapModule(Nn).catch(i=>console.error(i));

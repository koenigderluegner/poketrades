"use strict";(self.webpackChunkpoketrades=self.webpackChunkpoketrades||[]).push([[823],{2823:(D,h,o)=>{o.r(h),o.d(h,{BreedableModule:()=>c});var r=o(6895),f=o(9132),e=o(4650),v=o(6276),b=o(6082),Z=o(2417),x=o(5934),u=o(2156);const C=function(n,t){return[n,"breedables",t]};function k(n,t){if(1&n&&(e.TgZ(0,"app-sub-navi-item",9),e.ALo(1,"slugify"),e._UZ(2,"app-item",7),e.ALo(3,"slugify"),e.qZA()),2&n){const i=t.$implicit,a=e.oxw(2);e.Q6J("link",e.WLB(8,C,"/"+a.spreadsheetId,e.lcZ(1,4,i.title)))("text",i.title)("meta",i.ownedEntries+"/"+(i.data?i.data.length:"???")),e.xp6(2),e.Q6J("slug",e.lcZ(3,6,i.title))}}const B=function(n){return[n,"breedables","overview"]};function O(n,t){if(1&n&&(e.TgZ(0,"ul",5)(1,"app-sub-navi-item",6),e._UZ(2,"app-item",7),e.qZA(),e.YNc(3,k,4,11,"app-sub-navi-item",8),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("link",e.VKq(4,B,"/"+i.spreadsheetId))("text","Overview"),e.xp6(1),e.Q6J("slug","master"),e.xp6(1),e.Q6J("ngForOf",i.worksheets)}}class p{constructor(t){this.spreadsheetFacade=t,this.isView=!0,this.spreadsheetData$=this.spreadsheetFacade.getCurrentSpreadsheet$()}ngOnInit(){this.spreadsheetData$.subscribe({next:t=>{this.spreadsheetId=t.username?"u/"+t.username:t.id,this.worksheets=t.worksheets.filter(i=>"Breedables"===i.config?.type)}})}}p.\u0275fac=function(t){return new(t||p)(e.Y36(v.s))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-index"]],hostVars:2,hostBindings:function(t,i){2&t&&e.ekj("view",i.isView)},decls:8,vars:1,consts:[[1,"view-header"],[1,"view-addional-content"],[1,"view-sidebar"],["class","sub-navi",4,"ngIf"],[1,"view-content"],[1,"sub-navi"],[3,"link","text"],["category","ball",3,"slug"],[3,"link","text","meta",4,"ngFor","ngForOf"],[3,"link","text","meta"]],template:function(t,i){1&t&&(e.TgZ(0,"header",0),e._uU(1,"breedables"),e.qZA(),e.TgZ(2,"div",1),e._UZ(3,"app-grid-controller"),e.qZA(),e.TgZ(4,"aside",2),e.YNc(5,O,4,6,"ul",3),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"router-outlet"),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngIf",i.worksheets))},dependencies:[r.sg,r.O5,f.lC,b.H,Z.V,x.P,u.N],styles:["@media screen and (max-width: 720px){.view-header[_ngcontent-%COMP%]{order:1}.view-addional-content[_ngcontent-%COMP%]{order:3}.view-sidebar[_ngcontent-%COMP%]{order:2}.view-content[_ngcontent-%COMP%]{order:4}}"]});var A=o(8505),y=o(3900),w=o(827),T=o(1924),I=o(257);class d{transform(t){return t}}function F(n,t){if(1&n&&(e.ynx(0),e._UZ(1,"app-grid-item",4),e.ALo(2,"castBreedable"),e.BQk()),2&n){const i=t.$implicit;e.xp6(1),e.Q6J("pokemon",e.lcZ(2,1,i))}}function Q(n,t){if(1&n&&(e.TgZ(0,"app-grid",2),e.YNc(1,F,3,3,"ng-container",3),e.qZA()),2&n){const i=e.oxw().ngIf,a=e.oxw();e.Q6J("appearance",i),e.xp6(1),e.Q6J("ngForOf",null==a.worksheet?null:a.worksheet.data)("ngForTrackBy",a.trackBy)}}function J(n,t){if(1&n&&(e.ynx(0),e.YNc(1,Q,2,3,"app-grid",1),e.BQk()),2&n){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.worksheet)}}d.\u0275fac=function(t){return new(t||d)},d.\u0275pipe=e.Yjl({name:"castBreedable",type:d,pure:!0});class g{constructor(t,i,a,s){this.spreadsheetFacade=t,this.route=i,this.slugifyPipe=a,this.gridService=s,this.subscriptions=[],this.gridService.updateHideAppearanceControl(!1),this.gridService.updateHideOwnedStatusControl(!1),this.gridAppearance$=this.gridService.getGridAppearance$()}ngOnInit(){this.route.paramMap.pipe((0,A.b)(t=>this.worksheetTitle=t.get("worksheetTitle")??""),(0,y.w)(()=>this.spreadsheetFacade.getCurrentSpreadsheet$())).subscribe({next:t=>{this.worksheet=t.worksheets.filter(i=>this.slugifyPipe.transform(i.title)===this.worksheetTitle)?.[0]}})}trackBy(t,i){return i.id}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}}g.\u0275fac=function(t){return new(t||g)(e.Y36(v.s),e.Y36(f.gz),e.Y36(u.N),e.Y36(w.r))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-ball"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"appearance",4,"ngIf"],[3,"appearance"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"pokemon"]],template:function(t,i){1&t&&(e.YNc(0,J,2,1,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.gridAppearance$))},dependencies:[r.sg,r.O5,T.M,I.b,r.Ov,d]});var Y=o(9841),S=o(9646),$=o(3163),N=o(2904),L=o(3845);function M(n,t){if(1&n&&(e.ynx(0),e.TgZ(1,"div",7),e.ALo(2,"slugify"),e._UZ(3,"app-item",8),e.ALo(4,"slugify"),e.qZA(),e.BQk()),2&n){const i=t.$implicit,a=e.oxw().$implicit,s=e.oxw(2).ngIf;e.xp6(1),e.ekj("active",null==s.entries[i.key][e.lcZ(2,5,a.pokemon)]?null:s.entries[i.key][e.lcZ(2,5,a.pokemon)].isOwned)("illegal",null===a[i.key]),e.xp6(2),e.Q6J("slug",e.lcZ(4,7,i.key))}}function P(n,t){if(1&n&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"app-pokemon",5),e.ALo(3,"nameToSlug"),e._uU(4),e.qZA(),e.YNc(5,M,5,9,"ng-container",6),e.ALo(6,"keyvalue"),e.qZA()),2&n){const i=t.$implicit,a=e.oxw(2).ngIf;e.xp6(2),e.Q6J("slug",e.lcZ(3,3,i.pokemon)),e.xp6(2),e.hij(" ",i.pokemon,""),e.xp6(1),e.Q6J("ngForOf",e.lcZ(6,5,a.entries))}}function U(n,t){if(1&n&&(e.ynx(0),e.YNc(1,P,7,7,"div",2),e.BQk()),2&n){const i=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",i.legality)}}function _(n,t){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,U,2,1,"ng-container",0),e.qZA(),e.BQk()),2&n){const i=t.ngIf;e.xp6(2),e.Q6J("ngIf",i)}}class m{constructor(t,i,a){this.facade=t,this.db=i,this.gridService=a,this.gridService.updateHideAppearanceControl(!0),this.gridService.updateHideOwnedStatusControl(!0),this.data$=(0,Y.a)([this.db.getBreedableLegality(),this.facade.getCurrentSpreadsheet$()]).pipe((0,y.w)(s=>(0,S.of)({legality:s[0],entries:s[1].overviewEntries??{}})))}}m.\u0275fac=function(t){return new(t||m)(e.Y36(v.s),e.Y36($.d),e.Y36(w.r))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-overview"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"legality-table"],["class","legality-row d-flex",4,"ngFor","ngForOf"],[1,"legality-row","d-flex"],[1,"name","d-flex"],[3,"slug"],[4,"ngFor","ngForOf"],[1,"ball-col"],["category","ball",3,"slug"]],template:function(t,i){1&t&&(e.YNc(0,_,3,1,"ng-container",0),e.ALo(1,"async")),2&t&&e.Q6J("ngIf",e.lcZ(1,1,i.data$))},dependencies:[r.sg,r.O5,N.J,x.P,r.Ov,r.Nd,u.N,L.q],styles:[".legality-row{align-items:center;padding-right:10px;border-radius:5px;margin:8px 0}.legality-row .name{width:300px;align-items:center}.legality-row:nth-child(2n){background:#efefef}.legality-table{background:#fff;border-radius:12px;display:inline-block;padding:15px}.legality-table .ball-col .pokesprite{filter:grayscale(1) opacity(.3)}.legality-table .ball-col.active .pokesprite{filter:none}.legality-table .ball-col.illegal .pokesprite{filter:brightness(0) opacity(.3)}@media (prefers-color-scheme: dark){.legality-table{color:#fffc;background:#212121}.legality-row:nth-child(2n){background:#2f3232}}@media screen and (max-width: 720px){.legality-row{flex-wrap:wrap}.legality-row .name{width:100%}}\n"],encapsulation:2});const j=[{path:"",component:p,children:[{path:"overview",component:m},{path:":worksheetTitle",component:g}]}];class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[f.Bz.forChild(j),f.Bz]});var H=o(4466),z=o(3830),V=o(4006),X=o(7549);class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({providers:[u.N],imports:[r.ez,l,H.m,z.z,V.UX,X.Q]})}}]);
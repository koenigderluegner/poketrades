import{a as z,b as G}from"./chunk-4OFWWEAJ.js";import"./chunk-GDWOPAUZ.js";import{b as Z}from"./chunk-Q6644RGA.js";import"./chunk-TU77I26M.js";import"./chunk-LULXXNZW.js";import{a as J}from"./chunk-D334PWEC.js";import{b as V}from"./chunk-AEU7QKML.js";import"./chunk-265GW7FS.js";import{a as B}from"./chunk-KFK3ZKCL.js";import"./chunk-HVMZHICD.js";import"./chunk-TUFEY4MO.js";import"./chunk-3YZVUNZ7.js";import"./chunk-CGKBCD6Z.js";import{f as I}from"./chunk-HUNABKHP.js";import"./chunk-LSV3UZCL.js";import{$b as q,Ab as w,Eb as D,Fb as S,Gb as v,Hb as x,Ib as a,Jb as s,Kb as m,Ob as g,V as y,X as L,Zb as h,_a as l,ba as u,bc as U,cc as H,dc as N,ec as K,ga as R,mb as $,pa as M,rb as P,wa as F,xc as p,yb as k,za as O}from"./chunk-C3VIRCUK.js";import{a as _,b as C}from"./chunk-ESJYUATY.js";var Q=(()=>{let e=class e{getHomeDex(){return I("assets/database/living-dex-home.json")}getSVDex(){return I("assets/database/living-dex-sv-with-dlcs.json")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function E(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&R(E);let i=n?e?.injector?.get(M)??u(M):null,r=ee(e?.equal),o;e?.requireSync?o=O({kind:0},{equal:r}):o=O({kind:1,value:e?.initialValue},{equal:r});let d=t.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{if(e?.rejectErrors)throw c;o.set({kind:2,error:c})}});if(e?.requireSync&&o().kind===0)throw new y(601,!1);return i?.onDestroy(d.unsubscribe.bind(d)),p(()=>{let c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new y(601,!1)}},{equal:e?.equal})}function ee(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var te=(t,e)=>e.name;function ne(t,e){if(t&1&&(a(0,"div",13)(1,"div",14),m(2,"app-pokemon",15),s()()),t&2){let n=e.$implicit;w("inactive",!n.shiny),k("matTooltip",n.slug+(n.shinyLocked?" - shiny locked":"")),l(2),w("shiny-locked",n.shinyLocked),k("slug",n.slug)}}function ie(t,e){if(t&1&&(a(0,"div",9)(1,"div",10),h(2),s(),a(3,"div",11),v(4,ne,3,6,"div",12,S),s()()),t&2){let n=e.$implicit,i=e.$index,r=e.$count,o=g().$implicit,d=g(3);l(2),U(" ",o.name," ",(i*d.CHUNK_SIZE+1).toString().padStart(4,"0")," - ",(i===r-1?i*d.CHUNK_SIZE+n.length:(i+1)*d.CHUNK_SIZE).toString().padStart(4,"0")," "),l(2),x(n)}}function re(t,e){if(t&1&&(a(0,"div",8),v(1,ie,6,3,"div",9,S),s()),t&2){let n=e.$implicit;l(),x(n.pokemon)}}function oe(t,e){if(t&1&&v(0,re,3,0,"div",8,te),t&2){let n=g(2);x(n.chunkedDex())}}function ce(t,e){if(t&1&&P(0,oe,2,0),t&2){g();let n=K(11);D(n.hasValue()?0:-1)}}function ae(t,e){if(t&1&&(a(0,"p"),h(1),s()),t&2){let n=g();l(),q("Can't find Dex with Id ",n.dexId(),"")}}var Ee=(()=>{let e=class e{constructor(){this.dexId=F(),this.livingDex=u(Q),this.dexes=new Map([["home",this.livingDex.getHomeDex()],["sv",this.livingDex.getSVDex()]]),this.currentSpreadsheet=E(u(V).getCurrentSpreadsheet$()),this.CHUNK_SIZE=30,this.currentDex=p(()=>{let i=this.dexId();if(i)return this.dexes.get(i)}),this.chunkedDex=p(()=>{let i=this.currentDex();if(!i)return[];let r=i.value();if(!r)return[];let d=this.currentSpreadsheet()?.livingDexChecklist??[];return[...r].flat().map(c=>{let W=c.pokemon.reduce((f,j,X)=>{let b=Math.floor(X/this.CHUNK_SIZE);f[b]||(f[b]=[]);let T=d.find(Y=>Y.slug===j.slug);return f[b].push(C(_({},j),{shiny:T?.shiny??!1,regular:T?.regular??!1})),f},[]);return C(_({},c),{pokemon:W})})})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=$({type:e,selectors:[["app-living-dexes"]],hostAttrs:[1,"view"],inputs:{dexId:[1,"dexId"]},decls:14,vars:2,consts:[[1,"view-header"],[1,"view-addional-content"],[1,"view-sidebar"],[1,"sub-navi"],["link","../home","text","Home"],["category","ball","slug","poke"],["link","../sv","text","Scarlet/Violet"],[1,"view-content"],[1,"grid-wrapper"],[1,"chunk"],[1,"chunk-title"],[1,"grid","minimal"],[1,"grid-item",3,"inactive","matTooltip"],[1,"grid-item",3,"matTooltip"],[1,"icon"],["shiny","",3,"slug"]],template:function(r,o){if(r&1&&(a(0,"header",0),h(1,"Living dexes"),s(),a(2,"div",1),m(3,"app-grid-controller"),s(),a(4,"aside",2)(5,"ul",3)(6,"app-sub-navi-item",4),m(7,"app-item",5),s(),a(8,"app-sub-navi-item",6),m(9,"app-item",5),s()()(),a(10,"div",7),H(11),P(12,ce,1,1)(13,ae,2,1,"p"),s()),r&2){l(11);let d=N(o.currentDex());l(),D(d?12:13)}},dependencies:[G,B,z,J,Z],styles:[".grid-wrapper[_ngcontent-%COMP%]{display:flex;gap:25px;flex-wrap:wrap;margin-bottom:40px}.chunk[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.chunk[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{pointer-events:none}.chunk-title[_ngcontent-%COMP%]{font-weight:500}.shiny-locked.shiny[_ngcontent-%COMP%]{filter:grayscale(1) opacity(.2) brightness(0)!important}.grid[_ngcontent-%COMP%]{display:grid}.grid.hide-inactives[_ngcontent-%COMP%]   .grid-item.inactive[_ngcontent-%COMP%], .grid.filtered[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]{display:none}.grid.filtered.uncategorized[_ngcontent-%COMP%]   .grid-item.uncategorized[_ngcontent-%COMP%], .grid.filtered.starter[_ngcontent-%COMP%]   .grid-item.starter[_ngcontent-%COMP%], .grid.filtered.pseudo-legendary[_ngcontent-%COMP%]   .grid-item.pseudo-legendary[_ngcontent-%COMP%], .grid.filtered.ultra-beast[_ngcontent-%COMP%]   .grid-item.ultra-beast[_ngcontent-%COMP%], .grid.filtered.sub-legendary[_ngcontent-%COMP%]   .grid-item.sub-legendary[_ngcontent-%COMP%], .grid.filtered.legendary[_ngcontent-%COMP%]   .grid-item.legendary[_ngcontent-%COMP%], .grid.filtered.mystical[_ngcontent-%COMP%]   .grid-item.mystical[_ngcontent-%COMP%], .grid.filtered.fossil[_ngcontent-%COMP%]   .grid-item.fossil[_ngcontent-%COMP%], .grid.filtered.baby[_ngcontent-%COMP%]   .grid-item.baby[_ngcontent-%COMP%], .grid.filtered.alola[_ngcontent-%COMP%]   .grid-item.alola[_ngcontent-%COMP%], .grid.filtered.galar[_ngcontent-%COMP%]   .grid-item.galar[_ngcontent-%COMP%], .grid.filtered.hisui[_ngcontent-%COMP%]   .grid-item.hisui[_ngcontent-%COMP%], .grid.filtered.unown[_ngcontent-%COMP%]   .grid-item.unown[_ngcontent-%COMP%], .grid.filtered.alcremie[_ngcontent-%COMP%]   .grid-item.alcremie[_ngcontent-%COMP%], .grid.filtered.vivillon[_ngcontent-%COMP%]   .grid-item.vivillon[_ngcontent-%COMP%], .grid.filtered.gmax[_ngcontent-%COMP%]   .grid-item.gmax[_ngcontent-%COMP%]{display:block}.grid.owned[_ngcontent-%COMP%]:not(.unowned)   .grid-item.inactive[_ngcontent-%COMP%]{display:none}.grid.unowned[_ngcontent-%COMP%]:not(.owned)   .grid-item[_ngcontent-%COMP%]:not(.inactive){display:none}.grid.minimal[_ngcontent-%COMP%]{grid-gap:6px;grid-template-columns:repeat(6,40px)}.grid.minimal[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]{height:40px;width:40px;border:none;background:#ffffff38;border-radius:5px}.grid.minimal[_ngcontent-%COMP%]   .grid-item.inactive[_ngcontent-%COMP%]   .pokesprite[_ngcontent-%COMP%]{filter:grayscale(1) opacity(.2)}.grid.minimal[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:relative;width:68px;height:56px;margin-left:-14px;flex-basis:40px;margin-top:-16px}.grid.minimal[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{position:absolute;bottom:-10%;left:50%}@media (prefers-color-scheme: dark){.grid.minimal[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]{background:#00000038}}"]});let t=e;return t})();export{Ee as LivingDexesComponent};

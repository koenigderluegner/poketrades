import{a as s}from"./chunk-RRFYCJGC.js";import{a as I,b as $}from"./chunk-XS55EH7W.js";import{b as M,c as P}from"./chunk-BGMAQEYJ.js";import"./chunk-35IKQTQ6.js";import"./chunk-X5YOBKXN.js";import{a as T}from"./chunk-UQPSPENT.js";import{b as O}from"./chunk-LCEAKCPM.js";import"./chunk-DTVDTSHP.js";import{a as B}from"./chunk-HLT5T5L7.js";import"./chunk-UGLTGS67.js";import"./chunk-ACRTO252.js";import"./chunk-2KRSRURM.js";import"./chunk-ZACLF2FN.js";import"./chunk-5X4NWAEZ.js";import{h as E}from"./chunk-QLK3TMSF.js";import{Ab as C,Bb as g,Cb as x,Db as D,Hb as F,R as l,Ta as f,aa as r,db as h,hb as _,ic as b,k as m,kc as d,lc as v,mc as k,p as c,vb as a,wb as p,xb as u,yb as y,zb as S}from"./chunk-57A7MIR4.js";import"./chunk-4CLCTAJ7.js";var w=i=>({item:i});function G(i,t){i&1&&D(0,"app-grid-item",1),i&2&&C("pokemon",t)}function L(i,t){if(i&1&&(a(0,G,1,1,"app-grid-item",1),d(1,"shinyDexEntryToPokemon")),i&2){let n,e=t.$implicit;p((n=k(1,1,e[1],b(4,w,e[1].pokemon.fsObtainingMethod===3?"rare-candy":null)))?0:-1,n)}}function N(i,t){i&1&&(g(0,"app-grid",0),y(1,L,2,6,null,null,u),x()),i&2&&(f(),S(t))}function j(i,t){if(i&1&&(a(0,N,3,0,"app-grid",0),d(1,"async")),i&2){let n,e=F();p((n=v(1,1,e.shinies$))?0:-1,n)}}var ei=(()=>{class i extends I{constructor(){super(),this._databases=r(T),this._spreadsheets=r(O),this._gridService=r(B),this._gridService.updateHideOwnedStatusControl(!1),this._gridService.updateHideAppearanceControl(!0)}ngOnInit(){this.shinies$=c([this._spreadsheets.getCurrentSpreadsheet$(),this._databases.getPokemon()]).pipe(l(([n,e])=>m(Object.entries(this.buildShinyList(n,e)))))}buildEmptyShinyList(n){let e={};for(let o of n)this._pokemonEligibleForShinyDex(o)&&Object.assign(e,{[o.name]:{pokemon:o,amountShinies:0}});return e}_pokemonEligibleForShinyDex(n){let e=n.fsObtainingMethod??s.UNKNOWN;return n.canBeShiny&&n.canBeBanked&&[s.CAPTURE,s.EVOLVING].includes(e)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275cmp=h({type:i,selectors:[["app-friend-safari-shiny-dex"]],features:[_],decls:1,vars:1,consts:[["appearance","minimal",1,"friend-safari-grid"],[3,"pokemon"]],template:function(e,o){e&1&&a(0,j,2,3),e&2&&p(o.shinies$?0:-1)},dependencies:[P,M,$,E],styles:[`.friend-safari-grid.grid.minimal .grid-item.inactive .pokesprite.item-icon{filter:none}
`],encapsulation:2})}}return i})();export{ei as FriendSafariShinyDexComponent};

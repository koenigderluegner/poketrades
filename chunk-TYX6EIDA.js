import{a as s}from"./chunk-RRFYCJGC.js";import{a as W,b as w}from"./chunk-AHPFIRCL.js";import{b as B,c as M}from"./chunk-HG3Z3Q3K.js";import"./chunk-KNRXEJRM.js";import"./chunk-KJALWTQB.js";import{a as E}from"./chunk-7G7XMY7N.js";import{b as T}from"./chunk-M6UPZNFC.js";import"./chunk-3JFHSY6X.js";import{a as U}from"./chunk-7PQ2NGUT.js";import"./chunk-CBRGVJSX.js";import"./chunk-TENYMHVM.js";import"./chunk-LOI2ZJGF.js";import"./chunk-BGHSUZ27.js";import"./chunk-7YUFRYV5.js";import{h as O}from"./chunk-MC2DVP3H.js";import{Ab as S,Bb as g,Cb as x,Db as D,Hb as b,R as c,Ta as h,aa as r,db as _,hb as f,ic as v,k as d,kc as m,lc as k,mc as F,p as l,vb as a,wb as p,xb as u,yb as y,zb as C}from"./chunk-HDOEFQUA.js";import"./chunk-4CLCTAJ7.js";var P=e=>({item:e});function I(e,n){e&1&&D(0,"app-grid-item",1),e&2&&S("pokemon",n)}function $(e,n){if(e&1&&(a(0,I,1,1,"app-grid-item",1),m(1,"shinyDexEntryToPokemon")),e&2){let t,i=n.$implicit;p((t=F(1,1,i[1],v(4,P,i[1].pokemon.uwObtainingMethod===3?"rare-candy":null)))?0:-1,t)}}function G(e,n){e&1&&(g(0,"app-grid",0),y(1,$,2,6,null,null,u),x()),e&2&&(h(),C(n))}function L(e,n){if(e&1&&(a(0,G,3,0,"app-grid",0),m(1,"async")),e&2){let t,i=b();p((t=k(1,1,i.shinies$))?0:-1,t)}}var ee=(()=>{class e extends W{constructor(){super(),this._databases=r(E),this._spreadsheets=r(T),this._gridService=r(U),this._gridService.updateHideOwnedStatusControl(!1),this._gridService.updateHideAppearanceControl(!0)}ngOnInit(){this.shinies$=l([this._spreadsheets.getCurrentSpreadsheet$(),this._databases.getPokemon()]).pipe(c(([t,i])=>d(Object.entries(this.buildShinyList(t,i)))))}buildEmptyShinyList(t){let i={};for(let o of t)this._pokemonEligibleForShinyDex(o)&&Object.assign(i,{[o.name]:{pokemon:o,amountShinies:0}});return i}_pokemonEligibleForShinyDex(t){let i=t.uwObtainingMethod??s.UNKNOWN;return t.canBeShiny&&t.canBeBanked&&[s.CAPTURE,s.EVOLVING].includes(i)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=_({type:e,selectors:[["app-ultra-wormhole-shiny-dex"]],features:[f],decls:1,vars:1,consts:[["appearance","minimal",1,"friend-safari-grid"],[3,"pokemon"]],template:function(i,o){i&1&&a(0,L,2,3),i&2&&p(o.shinies$?0:-1)},dependencies:[B,w,M,O],encapsulation:2})}}return e})();export{ee as UltraWormholeShinyDexComponent};
